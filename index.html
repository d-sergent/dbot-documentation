<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portail Documentation D-Bot</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.3.0/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        body { box-sizing: border-box; min-width: 200px; max-width: 1200px; margin: 0 auto; padding: 45px; display: flex; font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif; }
        #sidebar { width: 280px; padding-right: 20px; border-right: 1px solid #e1e4e8; height: calc(100vh - 90px); overflow-y: auto; position: sticky; top: 45px; flex-shrink: 0; }
        #content { flex: 1; padding-left: 40px; min-width: 0; }
        .markdown-body { max-width: 100%; overflow-x: auto; }
        .markdown-body table { font-size: 0.78em; width: 100%; table-layout: fixed; }
        .markdown-body table th { padding: 4px 5px; white-space: normal; line-height: 1.3; }
        .markdown-body table td { padding: 4px 5px; line-height: 1.3; }
        .nav-item { display: block; padding: 8px 12px; text-decoration: none; color: #0366d6; border-radius: 6px; cursor: pointer; font-size: 14px; margin-bottom: 2px; }
        .nav-item:hover { background-color: #f6f8fa; }
        .nav-item.active { background-color: #0366d6; color: white; font-weight: bold; }
        .nav-group { font-weight: bold; margin-top: 20px; margin-bottom: 8px; padding-left: 12px; color: #24292e; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; border-left: 3px solid #0366d6; }
        .nav-group:first-child { margin-top: 0; }
        @media (max-width: 767px) { body { flex-direction: column; padding: 15px; } #sidebar { width: 100%; border-right: none; border-bottom: 1px solid #e1e4e8; height: auto; position: relative; top: 0; margin-bottom: 20px; } #content { padding-left: 0; } }
    </style>
</head>
<body>
    <div id="sidebar">
        <h2 style="font-size: 1.3em; margin-bottom: 20px; color: #24292e;">üìö D-Bot Documentation</h2>
        <div id="nav-list"></div>
    </div>
    <div id="content" class="markdown-body"><div id="view"></div></div>
    <script>
        mermaid.initialize({ startOnLoad: false });
        const docs = {"Fondations: 00_Index": "# Documentation Projet Robot D-Bot (√âvolution 2026)\n\nBienvenue dans la documentation technique du projet de robot humano√Øde bas√© sur le D-Bot open-source, adapt√© et am√©lior√© pour une impression sur Qidi Plus 4.\n\n## Table des Mati√®res\n\n1.  **[Synth√®se du Projet](./01_Synthese_Projet.md)**\n    *   Vision globale et strat√©gie de d√©veloppement (Phases).\n    *   Architecture mat√©rielle (Jetson + Spresense + OAK-D).\n    *   Points de vigilance critique (Audit 2026).\n\n2.  **[Liste des Achats (BOM Consolid√©e)](./02_Liste_Achats.md)**\n    *   Visserie (ISO 7380, DIN 912, Inserts Ruthex).\n    *   Motorisation (RS-00 √† RS-05) et PDB Matek.\n    *   √âlectronique de contr√¥le et Audio.\n\n3.  **[Guide M√©canique](./03_Montage_Mecanique.md)**\n    *   Param√®tres CAO (Chambrages, Tol√©rances).\n    *   Montage des Roulements 608ZZ.\n    *   Pr√©paration Commande CNC.\n\n4.  **[√âlectronique & C√¢blage](./04_Electronique_Cablage.md)**\n    *   Bus CAN (Daisy Chain, GND critique, Stubs).\n    *   Alimentation & Protection (XT60, Matek PDB).\n    *   S√©curit√© Wanptek (Mode OCP).\n\n5.  **[Installation et Logiciel](./05_Logiciel_Configuration.md)**\n    *   JetPack 6, ROS 2 Humble et micro-ROS.\n    *   Liaison s√©rie Jetson/Spresense (UART Pins 8/10).\n    *   Configuration SocketCAN (1 Mbps).\n\n6.  **[D√©cisions Architecturales](./06_Decisions_Architecturales.md)**\n    *   Choix du Kit Moteur (RS-05).\n    *   Carte d'Extension Sony Spresense.\n    *   Positionnement LiDAR et Mat√©riaux.\n\n7.  **[Vision et IA](./07_Vision_IA.md)**\n    *   OAK-D Pro S2 FF (Encastrement, Tilt, St√©r√©o Active).\n    *   LiDAR Unitree L2 et Fusion de capteurs Isaac ROS.\n\n8.  **[Audio et Perception](./08_Audio_Perception.md)**\n    *   Spatialisation 8 micros (PDM), Beamforming et TPU isolation.\n    *   Strat√©gie Double IMU (Stabilisation Regard).\n\n9.  **[Guide Avanc√© Impression 3D](./09_Guide_Avance_Impression.md)**\n    *   Gestion humidit√© PA12-CF et Slicer Orca.\n    *   Recuit \"In-Situ\" (PLA+, PETG-CF, PA12-CF) et Macros G-Code.\n\n10. **[Installation Buse Tungst√®ne](./10_Guide_Buse_Tungstene.md)**\n    *   Maintenance buse et s√©curit√© √©lectrique g√©n√©rale (Wanptek).\n    *   Sauvegarde et maintenance pr√©ventive.\n\n11. **[Guide SensiEDGE & S√©curit√©](./11_Guide_SensiEDGE_Watchdog.md)**\n    *   Architecture \"Power Manager\" (Veille/R√©veil).\n    *   Code C++ Watchdog et Surveillance Batterie 12S.\n    *   Int√©gration capteurs environnementaux (CommonSense).\n\n12. **[Guide Pi√®ces M√©tal (CNC)](./12_Guide_Parties_Metal_CNC.md)**\n    *   Sp√©cifications Alu 6061-T6 et r√®gles de conception.\n    *   Pr√©paration fichiers STEP et astuces commande.\n\n13. **[S√©curit√© √âlectrique Essentielle](./13_Securite_Electrique.md)**\n    *   Param√®tres alimentation labo (Safe Start).\n    *   S√©quence d'allumage/extinction stricte.\n    *   Arr√™t d'urgence et s√©curit√© m√©canique.\n\n14. **[Cin√©matique & Choix Moteurs](./14_Cinematique_Moteurs.md)**\n    *   Architecture 24 DOF (T√™te + Bras + Jambes).\n    *   Tableau comparatif RobStride (RS-00 √† RS-06).\n    *   Couple, Poids, Prix et Applications.\n\n15. **[Analyse Biom√©canique & √âvolutions](./15_Analyse_Biomecanique.md)**\n    *   Analyse capacit√©s de marche (lente, rapide, course).\n    *   √âvaluation portage (bras tendu vs pli√©).\n    *   Propositions d'upgrade moteurs (RobStride + alternatives).\n    *   Configuration \"D-Bot Performance\" recommand√©e.\n\n---\n*Documentation exhaustive g√©n√©r√©e et audit√©e en F√©vrier 2026.*\n", "Fondations: 01_Synthese": "# Synth√®se du Projet D-Bot (√âvolution)\n\n## 1. Vision et Objectifs\nLe projet consiste √† construire un robot humano√Øde baptis√© **D-Bot**.\nIl s'agit d'une **√©volution majeure** de la plateforme open-source **K-Bot**, am√©lior√©e avec des actionneurs modernes et une intelligence embarqu√©e avanc√©e. Ce n'est pas un simple fork, mais une refonte compl√®te de l'architecture √©lectronique et motrice.\n\n### Am√©liorations Cl√©s (vs K-Bot Original)\nLe D-Bot repose sur un syst√®me de **24 moteurs RobStride** (20 DOF K-Bot + 2√ó RS-05 cou + 2√ó RS-02 cheville Roll), une vision IA **Luxonis OAK-D Pro** et un **LiDAR Unitree L2**, le tout pilot√© par une **NVIDIA Jetson Orin Nano** et une **Sony Spresense**.\n\n## 2. Feuille de Route (Roadmap)\nLe projet est d√©coup√© en 4 phases distinctes pour valider chaque √©tape critique.\n\n### Phase 1 : T√™te et Torse (En Cours)\n*   **Objectif** : Valider l'intelligence perception/audio.\n*   **Mat√©riel** : Jetson Orin Nano, OAK-D Pro, Spresense.\n*   **Moteurs** : Aucun (0).\n\n### Phase 2 : Premier Bras (Focus Actuel)\n*   **Objectif** : Validation m√©canique et manipulation.\n*   **Mat√©riel** : + 6 Moteurs Robstride (RS-03 √©paule, RS-02 coude, RS-00 poignet).\n*   **Budget Est.** : ~2 000 ‚Ç¨.\n\n### Phase 3 : Deuxi√®me Bras\n*   **Objectif** : Coordination bimanuelle.\n\n### Phase 4 : Marche (Jambes)\n*   **Objectif** : Locomotion et √©quilibre dynamique.\n*   **Mat√©riel** : + 12 Moteurs (RS-04 hanches/genoux, RS-03 cheville Pitch, RS-02 cheville Roll).\n*   **Capteurs** : IMU torse (BMI270 Add-on) pour le contr√¥le d'√©quilibre + capteurs FSR plantaires.\n\n## 3. Architecture Mat√©rielle\nL'architecture repose sur une s√©paration claire entre la puissance de calcul (IA) et le contr√¥le temps r√©el (Moteurs/Capteurs bas niveau).\n\n```mermaid\ngraph TD\n    A[NVIDIA Jetson Orin Nano] -- \"USB3 (High Speed)\" --> B[Sony Spresense]\n    A -- USB/CAN --> C[\"InnoMaker USB2CAN-C\"]\n    C -- \"Bus CAN (1 Mbps)\" --> D[Moteurs Robstride]\n    A -- USB3 --> E[\"OAK-D Pro (Vision AI)\"]\n    A -- USB --> F[LiDAR Unitree L2]\n\n    subgraph \"Contr√¥le Moteur\"\n    D --> D1[\"RS-02/03/04 (Membres)\"]\n    D --> D2[\"RS-00/05 (Poignets/Cou)\"]\n    end\n\n    subgraph \"Perception Audio/Sensor\"\n    B --> B1[\"Micros (Beamforming)\"]\n    B --> B2[\"IMU Torse (BMI270)\"]\n    B --> B3[Capteurs I2C/SPI]\n    end\n```\n\n## 3. Plateforme de Fabrication (Qidi Plus 4)\nLa Qidi Plus 4 a √©t√© choisie pour sa capacit√© √† imprimer des mat√©riaux techniques √† haute temp√©rature.\n\n- **Mat√©riau Recommand√©** : PETG-CF (Facile √† imprimer, rigide, esth√©tique carbone).\n- **Param√®tres Critiques** :\n  - **Chambrages (Counterbore)** : Indispensables pour noyer les t√™tes de vis.\n  - **Tol√©rances** : Marge de 0.5mm sur les diam√®tres de per√ßage vis.\n  - **Remplissage** : 100% pour les pi√®ces de force (hanches, √©paules), 40% gyroid pour les coques esth√©tiques.\n  - **Connectivit√© & R√©seau** : TP-Link Archer T3U (AC1300 Mbps, USB 3.0, MU-MIMO). Indispensable pour stabiliser la connexion Klipper sur 5GHz.\n- **D√©tails Complets** : Voir le **[Guide Avanc√© Impression 3D](./09_Guide_Avance_Impression.md)**.\n\n## Strat√©gie de D√©veloppement (Phases)\nLa construction est divis√©e en 4 phases pour valider les syst√®mes progressivement :\n1.  **Phase 1 (T√™te & Torse)** : Validation de l'intelligence (Jetson/Spresense), de la vision et de l'audio.\n2.  **Phase 2 (Premier Bras)** : Validation 6 DOF, Bus CAN et impression structurelle.\n3.  **Phase 3 (Deuxi√®me Bras)** : Coordination bimanuelle et transport de charges.\n4.  **Phase 4 (Corps & Marche)** : Jambes (12 DOF incl. cheville Roll), √©quilibre dynamique (IMU torse + FSR plantaires) et autonomie.\n\n## Points de Vigilance Critique (Audit Discussion)\n-   **Motorisation** : Le couple de pointe (Peak Torque) des RS-04 (hanches/genoux) atteint 120 Nm. La structure doit √™tre en PA12-CF ou Aluminium 6061.\n-   **S√©curit√© √âlectrique** : Toujours utiliser le mode **OCP** (Overcurrent Protection) sur l'alimentation Wanptek (limite √† 1A pour les premiers tests).\n-   **Communication** : Le bus CAN 1 Mbps exige des paires torsad√©es et une masse commune (GND) entre la Jetson et les moteurs.\n-   **Maintenance** : Utiliser des connecteurs **WAGO 221** dans le cou pour faciliter le d√©montage rapide de la t√™te.\n\n---\n**Note** : Ce projet est une √©volution active. Les choix techniques document√©s ici refl√®tent l'√©tat des lieux en F√©vrier 2026.\n", "Fondations: 02_Liste_Achats": "# Liste des Achats (BOM Consolid√©e)\n\n## 1. Visserie & Fixations (Hardware)\n**Strat√©gie** : Utilisation de vis **DIN 912 (T√™te Cylindrique)** en Acier Inoxydable A2 (Inox 304) pour la r√©sistance √† la corrosion, ou Acier Noir 12.9 pour les axes moteurs de force.\n\n### Quantit√©s Requises (D-Bot + 2x RS-05)\n| Type | Diam√®tre | Longueur | Quantit√© Est. | Usage |\n| :--- | :--- | :--- | :--- | :--- |\n| **Vis CHC** | M3 | 6mm - 12mm | ~240 | Fixations √©lectroniques, caches, small motors |\n| **Vis CHC** | M4 | 10mm - 15mm | ~160 | Structure principale, moteurs RS-01-RS-04 |\n| **Vis CHC** | M5 | 12mm - 20mm | ~40 | Hanches, Grosses articulations |\n| **√âcrous/Rondelles** | M3/M4/M5 | - | ~150 de chaque | - |\n\n### Liens d'Achat Recommand√©s\n*   **Protorx (France)** : [Lien vers Bo√Ætes M3/M4 Inox](https://www.protorx.com) - *Id√©al pour un stock propre*.\n*   **Vis-Express** : [Lien vers M4 DIN 912 Inox A2](https://www.vis-express.fr) - *Livraison rapide*.\n*   **ScrewsAndMore** : [Lien vers Assortiment 400pcs](https://www.screwsandmore.de) - *Rapport quantit√©/prix*.\n\n> **Conseil** : Achetez un kit \"Build Complet\" (1225pcs M2-M5) pour avoir du stock, et compl√©tez avec des sachets de 50 vis M4 Acier 12.9 pour les moteurs.\n\n### Inserts Filet√©s (Heat-set)\n*   **Marque Recommand√©e** : **Ruthex** (ou CNC Kitchen).\n*   **Mod√®le** : RX-M3x5.7 (M3) et versions \"Longues\" pour M4.\n*   **Pourquoi ?** Les moletages oppos√©s offrent la meilleure r√©sistance √† l'arrachement dans le PETG-CF.\n*   **Acheter chez** : [3DJake France](https://www.3djake.fr) ou Amazon.\n\n---\n\n## 2. Moteurs & Actionneurs (Par Phase)\n\n### Phase 1 : T√™te / Torse (Aucun Moteur)\n*   Focus uniquement sur les capteurs et l'intelligence.\n\n### Phase 2 : Premier Bras (5 DOF)\n| Mod√®le | Quantit√© | Couple (Peak) | Usage |\n| :--- | :--- | :--- | :--- |\n| **Robstride 03** | 2 | **60 Nm** | √âpaule (Force brute - Pitch/Roll) |\n| **Robstride 02** | 2 | **17 Nm** | √âpaule Yaw / Coude |\n| **Robstride 00** | 1 | 14 Nm | Poignet Roll |\n\n### Phase 3 : Deuxi√®me Bras (5 DOF identiques)\n*M√™me configuration que Phase 2, sym√©triquement.*\n\n### Phase 4 : Jambes + Cou (14 DOF)\n| Mod√®le | Quantit√© | Couple (Peak) | Usage |\n| :--- | :--- | :--- | :--- |\n| **Robstride 04** | 4 | **120 Nm** | Hanches Pitch + Genoux |\n| **Robstride 03** | 4 | **60 Nm** | Hanches Roll/Yaw |\n| **Robstride 03** | 2 | **60 Nm** | Chevilles Pitch (upgrade vs K-Bot) |\n| **Robstride 02** | 2 | **17 Nm** | Chevilles Roll (**NOUVEAU**, stabilit√© lat√©rale) |\n| **Robstride 05** | 2 | **5.5 Nm** | Cou Pan/Tilt |\n\n> **Note** : Configuration bas√©e sur l'Option D-R√©vis√©e \"D-Bot Maximal\" (24 DOF). Voir [Analyse Biom√©canique](./15_Analyse_Biomecanique.md) pour le d√©tail et les alternatives.\n\n### Autres Composants √âlectroniques\n| Composant | Mod√®le | Quantit√© | Note |\n| :--- | :--- | :--- | :--- |\n| **Robstride 04** | - | Hanches / Torse Pivot (Marche) | - |\n| Distribution (PDB) | **Matek PDB-HEX** (Master) + **PDB-XT60-W** (Satellites) | 2 + 4 | Hubs de puissance pro |\n| Connectique Data | **JST-GH 4-pin** (Silicone / Holybro) | 30m | Fils torsad√©s blind√©s |\n| Maintenance T√™te | **WAGO 221-413 / 415** | 10 | Connecteurs rapides sans soudure |\n| Alimentation Labo | **Wanptek DPS605U** (60V/5A) | 1 | R√©glage pr√©cis 24V/48V + OCP |\n| Interface CAN | **InnoMaker USB2CAN-C** | 1 | Natif Linux (SocketCAN) |\n\n> **Note** : V√©rifiez bien que les moteurs arrivent avec leurs c√¢bles d'alimentation (XT60) et data (JST-GH). Sinon, commander s√©par√©ment.\n\n---\n\n## 3. √âlectronique & Cerveau (D√©tail Phase 1 & 2)\n\n| Composant | Mod√®le | Note |\n| :--- | :--- | :--- |\n| **Cerveau IA** | NVIDIA Jetson Orin Nano (8GB) | Le mod√®le Super est un plus, mais le 8GB suffit. |\n| **Vision (T√™te)** | Luxonis OAK-D Pro | Version Fixed-Focus (FF) recommand√©e (vibrations). |\n### √âlectronique de Contr√¥le\n- **Sony Spresense** :\n    - *Main Board* + *Extension Board* (Standard).\n    - **Note s√©mantique** : L'Extension Board Standard est pr√©f√©r√©e pour ses 8 entr√©es micro (vs 4 sur la version LTE).\n    - **Connectivit√©** : Pour la LTE, utilisez un shield tiers (Waveshare SIM7600) via UART pour conserver les 8 micros.\n- **IMU Torse (√âquilibre)** : **Bosch BMI270 Add-on Board** (Switch Science) ‚Äî 6 axes, I2C/SPI, compatible Spresense. **C'est l'IMU principale d'√©quilibre** du robot (voir [Strat√©gie IMU](./08_Audio_Perception.md)).\n- ~~**SensiEDGE CommonSense**~~ : ‚ö†Ô∏è **Non disponible au grand public** (r√©serv√©e aux professionnels). Remplac√©e par le BMI270 Add-on Board ci-dessus.\n- **Audio** : 8x Microphones num√©riques MEMS (PDM) + c√¢bles blind√©s.\n\n### Capteurs d'√âquilibre (Phase 4)\n| Composant | Mod√®le | Quantit√© | Note |\n| :--- | :--- | :--- | :--- |\n| **IMU Torse** | BMI270 Add-on Board (Spresense) | 1 | IMU primaire d'√©quilibre ‚Äî 416 Hz, 6 axes |\n| **Capteurs plantaires** | FSR 402 (Force Sensing Resistor) | 8 (4/pied) | Mesure du Centre de Pression (CoP) ‚Äî connect√©s aux ADC Spresense |\n| *Alternative IMU* | *Sony Multi-IMU Add-on Board* | *1* | *16 MEMS, pr√©cision classe FOG ‚Äî si besoin haute pr√©cision* |\n\n### S√©curit√© & Gestion d'√ânergie (Power Management)\n| Composant | R√©f√©rence | R√¥le |\n| :--- | :--- | :--- |\n| **R√©gulateur Veille** | **Mean Well DDR-15G-5** (ou Buck 60V->5V) | Alimente la Spresense en permanence (Always-On). |\n| **Switch Puissance** | **Infineon BTS50085-1TMA** (ou MOSFET Opto) | Coupe le 44V (Jetson/Moteurs) sur ordre de la Spresense. |\n| **Pont Diviseur** | R√©sistances 150kŒ© + 10kŒ© | Surveillance de la tension batterie 12S. |\n| **Condensa.** | 1000¬µF / 63V (Low ESR) | Filtrage des pics de tension au branchement. |\n| **Connecteur** | **XT90-S** (Anti-Spark) | Obligatoire pour la batterie 12S (√©vite l'arc √©lectrique). |\n| **LiDAR** | **Unitree L2** | FOV 360¬∞x90¬∞, Port√©e 30m, IMU int√©gr√©e. |\n| **Alimentation Labo** | **Wanptek DPS605U** | Indispensable Phase 2 (R√©gler sur 24V / Lim. 1A). |\n\n### Interface CAN & C√¢bles\n*   **Adaptateur USB-CAN** : **InnoMaker USB2CAN-C**\n    *   *Critique* : Bas√© sur firmware `gs_usb` (compatible Linux natif).\n*   **Connecteurs Data** : **JST-GH 1.25mm** (Marque Holybro recommand√©e pour la qualit√©).\n    *   Acheter des c√¢bles \"tout faits\" si possible pour √©viter de sertir du 1.25mm.\n*   **Connecteurs Puissance** : **XT60** (Jaune).\n*   **C√¢ble Bus CAN** : Utiliser imp√©rativement des **paires torsad√©es** pour CAN_H / CAN_L.\n\n---\n\n## 4. Infrastructure & Connexion\n| Composant | Mod√®le | Usage |\n| :--- | :--- | :--- |\n| **WiFi Imprimante** | **TP-Link Archer T3U** | AC1300 Mbps, USB 3.0. Connectivit√© stable pour Qidi Plus 4. |\n\n---\n\n## 5. Consommables & Outils\n*   **Frein Filet** : **Loctite 222** (Faible/Moyen). Indispensable ! Les vibrations des moteurs Robstride desserrent les vis M3 en quelques heures sans cela.\n*   **Cl√©s Allen** : Jeu de cl√©s de pr√©cision (Facom ou Wera) pour ne pas foire les t√™tes de vis.\n", "Conception: 03_Montage_Mecanique": "# Guide M√©canique et Impression 3D\n\n## 1. Param√®tres### Visserie Industrielle\nLe projet utilise deux standards principaux :\n1.  **ISO 7380 (T√™te Bomb√©e)** : Profil bas, id√©al pour l'esth√©tique et √©viter d'accrocher les c√¢bles.\n2.  **DIN 912 (T√™te Cylindrique)** : Indispensable pour les zones √† fort couple (hanches). Permet un serrage monumental.\n\n#### Param√®tres de Chambrage (Fusion 360 - Vis DIN 912)\n| Dimension | Symbole | M3 (DIN 912) | M4 (DIN 912) |\n| :--- | :--- | :--- | :--- |\n| Diam√®tre Chambrage | Dcb | **6.5 mm** | **8.5 mm** |\n| Profondeur Chambrage | Hcb | **3.5 mm** | **4.5 mm** |\n| Trou Insert (PETG-CF) | dh | 4.2 - 4.5 mm | 5.6 - 5.8 mm |\n| √âpaisseur Plancher | T | 3.0 mm min | 4.0 mm min |\n\n---\n\n### Inserts et Roulements\n- **Inserts Ruthex** : Utilisez les versions **Longues (8.1mm)** pour les RS-04. Les versions courtes (5.7mm) suffisent pour les carters.\n- **Roulements 608ZZ** :\n    - Montage : Bague ext√©rieure fixe dans le support, int√©rieure tournante avec l'axe.\n    - Logement : **22.0 mm** pour press-fit (ajust√© au fer).\n    - But√©e : √âpaulement de **1 mm** (ne doit toucher que la bague ext√©rieure).\n\n### Commande CNC (Aluminium 6061)\n- **Format** : Fichiers `.step` uniquement.\n- **Rayons** : Rayons internes de **2mm minimum** (usinage fraise).\n- **Finition** : \"As Machined\" (le plus √©conomique).\n\n### Chambrages (Counterbore) pour t√™tes de vis DIN 912\nL'objectif est de noyer la t√™te de vis pour qu'elle ne d√©passe pas, tout en laissant passer la cl√© Allen.\n| Param√®tre | Symbole | M3 | M4 |\n| :--- | :--- | :--- | :--- |\n| **Diam√®tre Chambrage** | $D_{cb}$ | **6.5 mm** | **8.5 mm** |\n| **Profondeur** | $H_{cb}$ | **3.5 mm** | **4.5 mm** |\n| **Passage de vis** | $d$ | 3.4 mm | 4.5 mm |\n\n> **Astuce Fusion 360** : Utilisez l'outil *Hole (H)* > *Counterbore* > *Simple* > *Flat*.\n\n### Trous pour Inserts (Heat-set)\nCes diam√®tres sont optimis√©s pour les inserts Ruthex standards.\n| Param√®tre | M3 | M4 |\n| :--- | :--- | :--- | \n| **Diam√®tre per√ßage** | **4.2 - 4.5 mm** | **5.6 - 5.8 mm** |\n| **√âpaisseur paroi min** | 1.6 mm | 2.0 mm |\n| **√âpaisseur fond plan** | **3.0 mm** (Min) | **4.0 mm** (Min) |\n\n---\n\n## 2. Impression 3D (Qidi Plus 4)\n\n### Mat√©riau Recommand√© : PETG-CF\nLe PETG renforc√© fibre de carbone (PETG-CF) est le meilleur compromis pour le D-Bot sur cette machine.\n*   **Avantages** : Rigidit√© accrue (moins de flexion que le PETG pur), aspect mat qui cache les couches, bonne tenue en temp√©rature (vers 80¬∞C).\n*   **Inconv√©nients** : Abrasif (utilisez une buse acier tremp√©).\n\n*   **(A) PLA** : Pour le prototypage rapide et validation de forme. **(~20‚Ç¨/kg)**\n*   **(B) PETG-CF** (Recommand√©) : Rigide, facile √† imprimer, esth√©tique carbone. Suffisant pour 80% du robot. **(~30‚Ç¨/kg)**\n*   **(C) PA12-CF** (Nylon Carbone) : Performance ultime (Chaleur/Choc). N√©cessite enceinte chauff√©e + s√©chage pro. Pour les pi√®ces critiques uniquement (Hanches). **(~100‚Ç¨/kg)**\n\n### Comparatif Mat√©riaux\n| Crit√®re | PLA (Proto) | PETG-CF (Standard) | PA12-CF (Pro) |\n| :--- | :--- | :--- | :--- |\n| **Co√ªt (Est.)** | 20‚Ç¨ / kg | **30‚Ç¨ / kg** | 100‚Ç¨ / kg |\n| **Rigidit√©** | Moyenne | √âlev√©e | Tr√®s √âlev√©e |\n| **R√©sistance Chaleur** | Faible (50¬∞C) | Moyenne (75¬∞C) | Haute (100¬∞C+) |\n| **Facilit√© Impression** | Tr√®s Facile | Facile | Difficile (Warping) |\n| **Usage D-Bot** | Tests de forme | **Coques, Bras, T√™te** | Gears, Hanches |\n\n### Param√®tres de Slicer (OrcaSlicer / QidiSlicer)\n*   **Mat√©riau** : Creality Hyper **PETG-CF** (Recommand√© pour d√©buter).\n    *   *Alternative Pro* : **PA12-CF** (Nylon Carbone). Plus rigide et r√©sistant √† la chaleur, mais n√©cessite une enceinte chauff√©e et un s√©chage parfait. √Ä r√©server aux utilisateurs exp√©riment√©s.\n*   **Temp√©ratures** :\n    *   **Buse** : 270¬∞C\n    *   **Plateau** : 80¬∞C\n    *   **Chambre (Active)** : 50¬∞C\n*   **Vitesse** : 200-300 mm/s.\n*   **Hauteur de couche** : 0.20 mm (Standard) ou 0.16 mm (Pr√©cision engrenages).\n*   **P√©rim√®tres (Walls)** : **4 √† 5 murs minimum**. C'est le plus important pour la solidit√© des filetages/inserts.\n*   **Remplissage (Infill)** :\n    *   **100% (Solid)** pour : Hanches, √âpaules, Supports Moteurs.\n    *   **40% (Gyroid)** pour : Coques, avant-bras, t√™te.\n*   **S√©chage** : Obligatoire avant impression (65¬∞C / 6h).\n\n---\n\n## 3. Montage des Moteurs Robstride\n\n### Int√©gration Robstride 05 (RS-05) - Cou / Poignets\n*   **Ancrage** : Le couple de pointe (5.5 Nm) est √©lev√© pour du plastique.\n    *   Utilisez des **vis M4 x 12mm Acier 12.9 (Noir)** pour fixer le corps moteur au ch√¢ssis. L'Inox est trop \"mou\" pour ces zones de force pure si vous d√©montez souvent.\n*   **Longueur de vis** : R√®gle d'or = √âpaisseur pi√®ce plastique + (Profondeur trou moteur - 1mm).\n    *   *Ne forcez jamais* si la vis touche le fond du trou borgne du moteur ! Vous d√©truiriez le filetage interne du stator.\n\n### Roulements 608ZZ\n*   Utilis√©s pour les articulations passives.\n*   **Ind√©pendance** : La bague int√©rieure et ext√©rieure sont ind√©pendantes. Vous pouvez fixer l'une au ch√¢ssis et l'autre au membre mobile.\n*   **Fichier STEP** : Disponible dans le dossier `Discussions/ou recuperer le modele step...`.\n\n### Positionnement LiDAR Unitree L2\n*   **Emplacement** : **Haut du Torse**, devant le cou (voir [D√©cisions Architecturales](./06_Decisions_Architecturales.md)).\n*   **Pourquoi ?** √âvite le passage de c√¢ble dans le cou articul√©, tout en gardant un bon FOV.\n*   **Fixation** : Support inclin√© √† **10-20¬∞** vers l'avant.\n*   **Orientation** : Connecteur vers le bas ou l'arri√®re selon le design du plastron.\n\n---\n\n## 4. Int√©gration Cheville 2-DOF (Roll + Pitch) [Phase 4]\nPour l'option \"D-Bot Performance\" (24 DOF), la cheville utilise deux moteurs en s√©rie.\n\n### Sch√©ma Cin√©matique (Bracket en L)\nL'objectif est de garder le pied le plus bas possible. Le moteur Roll (RS-02) est solidaire du pied, tandis que le moteur Pitch (RS-03) est solidaire du tibia.\n\n```mermaid\ngraph TD\n    Tibia[\"Structure Tibia\"] -->|Fixe le Stator| Pitch[\"Moteur Pitch RS-03\"]\n    Pitch -->|\"Rotor tourne (Y)\"| Bracket[\"Pi√®ce Inter-Moteurs 'L-Shape'\"]\n    Bracket -->|Fixe le Stator| Roll[\"Moteur Roll RS-02\"]\n    Roll -->|\"Rotor tourne (X)\"| Pied[\"Structure du Pied + FSR\"]\n```\n\n### Pi√®ces √† Imprimer / Usiner\n1.  **Cheville_Inter_Bracket** (Pi√®ce en L) :\n    *   Connecte la sortie du RS-03 (Pitch) au dos du RS-02 (Roll).\n    *   **Mat√©riau** : PA12-CF ou Alu 6061 (Forte contrainte en torsion).\n    *   **Visserie** : M4 x 10mm (x4 c√¥t√© Pitch) + M3 x 8mm (x4 c√¥t√© Roll).\n2.  **Pied_Sole** :\n    *   Accueille le rotor du RS-02.\n    *   Logements pour les 4 capteurs FSR.\n    *   **Surface** : Ajouter un patin en TPU ou caoutchouc 2mm pour le grip.\n", "Conception: 04_Electronique_Cablage": "# √âlectronique & C√¢blage\n\n## 1. Sch√©ma Global de Connexion\nL'architecture repose sur un bus CAN centralis√© et des liaisons USB High-Speed.\n\n### Cerveau Principal (NVIDIA Jetson Orin Nano)\n*   **Alimentation** : 19V DC (via Jack ou XT60 r√©gul√©).\n*   **R√¥le** : Orchestrateur ROS2, Vision IA, Planification de mouvement.\n*   **Ports** :\n    *   **USB A** -> **InnoMaker USB2CAN** (Contr√¥le Moteurs)\n    *   **USB C** -> **OAK-D Pro** (Vision St√©r√©o + IA)\n    *   **USB A** -> **Sony Spresense** (Audio / Capteurs TR)\n\n---\n\n## 2. Bus CAN (Moteurs Robstride)\nC'est la colonne vert√©brale du robot. Une erreur ici rend le robot inerte.\n\n### Adaptateur : InnoMaker USB2CAN-C\n*   **Firmware** : `gs_usb` (Natif Linux).\n*   **Configuration Switch** : Mettre le switch **120 \\Omega** sur **ON** (si l'adaptateur est en d√©but de cha√Æne).\n*   **C√¢blage Bornier** :\n    *   **CAN_H** -> Fil Vert (souvent) du moteur.\n    *   **CAN_L** -> Fil Jaune (souvent) du moteur.\n    *   **GND** -> **CRITIQUE**. Relier la masse de l'USB2CAN √† la masse commune des moteurs (Batterie -). Sans √ßa, le signal flotte et cr√©e des erreurs \"Bus Off\".\n\n### Bus de Communication (CAN 1 Mbps)\nLe Bus CAN est le syst√®me nerveux du D-Bot. Une erreur de c√¢blage ici rend le robot incontr√¥lable.\n\n#### R√®gle d'or du C√¢blage 3 fils\nBien que diff√©rentiel, le CAN exige une r√©f√©rence commune :\n1.  **CAN_H** (Jaune)\n2.  **CAN_L** (Blanc)\n3.  **GND** (Noir) : **CRITIQUE.** Doit relier la borne GND de l'InnoMaker √† la masse des moteurs.\n*Note : Le fil rouge (VCC 5V) du Hub Holybro ne doit JAMAIS √™tre connect√© aux moteurs aliment√©s en 48V.*\n\n#### Architecture Daisy Chain\n- **Stubs** : Les d√©rivations vers les moteurs doivent mesurer moins de **30 cm**.\n- **Terminaison** : Une r√©sistance de **120 Œ©** doit √™tre plac√©e √† chaque extr√©mit√© (Jetson et dernier moteur).\n- **Torsion** : Torsader les fils (33 tours/m√®tre) pour annuler les EMI.\n\n___\n\n## 3. Sony Spresense & OAK-D Pro\n\n### OAK-D Pro (Vision)\n*   Agit comme un capteur USB3.\n*   Int√®gre une **IMU (BNO085/BMI270)** ‚Äî **utilis√©e uniquement pour la stabilisation du regard**, pas pour l'√©quilibre du corps (voir [Strat√©gie IMU](./08_Audio_Perception.md)).\n\n### Sony Spresense (Audio & I/O)\n*   **Carte Extension Choisie** : **Standard Board** (CXD5602PWBEXT1).\n    *   *Raison* : Permet de brancher jusqu'√† **8 microphones num√©riques** pour le Beamforming (localisation de la voix).\n    *   *√âvolutabilit√©* : Headers Arduino compatibles pour ajouter des shields futurs.\n*   **Alternative LTE** : Si le robot doit sortir en ext√©rieur (hors Wi-Fi), une **LTE Extension Board** aurait √©t√© pr√©f√©r√©e, mais la Standard offre plus de flexibilit√© I/O audio pour un robot social.\n*   **Liaison Jetson** : Via USB (Port principal micro-USB de la Spresense). La Spresense appara√Æt comme un p√©riph√©rique s√©rie (`/dev/ttyUSBx`) ou Audio USB selon le sketch charg√©.\n\n---\n\n### Mise sous tension (S√©curit√© Wanptek)\nPour les premiers tests moteurs (Banc d'essai) :\n1.  R√©gler la tension √† **24.0V** (ou 48V) √† vide.\n2.  R√©gler la limite de courant √† **1.000A** (en court-circuitant les pinces).\n3.  Activer le mode **OCP** (Overcurrent Protection).\n4.  S√©quence : Allumer l'alim -> V√©rifier tension -> Brancher XT60 -> `Enable` logiciel.\n\n## 4. Alimentation (Power Distribution)\n*   **Batterie** : LiPo 6S ou alimentation stabilis√©e 24V (selon moteurs).\n*   **Connecteurs** :\n    *   **XT60 (Jaune)** : Pour la ligne principale de puissance. Indestructible.\n    *   **Distribution** : Utiliser un **PDB (Power Distribution Board)** de drone pour √©clater le 24V vers chaque moteur.\n*   **S√©curit√©** :\n    *   Fusible automobile sur la ligne principale.\n    *   Bouton d'arr√™t d'urgence (E-Stop) coupant l'alim moteurs mais *pas* la Jetson.\n\n---\n\n## 5. Capteurs de Force (FSR) - Phase 4\nPour la marche dynamique, chaque pied est √©quip√© de 4 capteurs FSR (Force Sensing Resistor) pour mesurer le Centre de Pression (CoP).\n\n### Sch√©ma de C√¢blage (Pont Diviseur)\nLes FSR sont des r√©sistances variables (Infini √† vide -> ~1kŒ© appuy√©). La Spresense lit une **tension** (ADC). Il faut donc un circuit diviseur.\n\n```\n      3.3V (Spresense VREF)\n        ‚îÇ\n        ‚îÇ\n       [ ]  FSR (Capteur de force)\n        ‚îÇ\n        ‚îú‚îÄ‚îÄ‚îÄ vers Pin Analogique (A0, A1, A2, A3)\n        ‚îÇ\n       [ ]  R√©sistance Pull-down (R = 10kŒ©)\n        ‚îÇ\n       GND\n```\n\n### Connexion Spresense\n*   **Haut de l'Extension Board** : Pins `A0` √† `A3` (4 canaux).\n*   **Multiplexage** : Si vous avez 8 FSR (4 par pied) et seulement 4 entr√©es analogiques libres :\n    *   Option A : Mettre les FSR Avant en parall√®le (moyenne) et Arri√®re en parall√®le. = 2 fils par pied.\n    *   Option B : Utiliser un multiplexeur I2C (ex: ADS1115) pour lire 4 canaux suppl√©mentaires.\n    *   *Reco Prototype* : Option A (Suffisant pour savoir si le poids est sur les pointes ou les talons).\n", "Conception: 05_Logiciel_Configuration": "# Logiciel & Configuration\n\n## 1. NVIDIA Jetson (SocketCAN)\nLa configuration du bus CAN est essentielle pour piloter les moteurs Robstride.\n\n### Pr√©requis Linux\n```bash\nsudo apt-get update\nsudo apt-get install can-utils\n```\n\n### Couche Jetson (Middleware)\nLe D-Bot tourne sous **Ubuntu 22.04 (JetPack 6)** avec **ROS 2 Humble**.\n- **Micro-ROS Agent** : G√®re la passerelle avec la Sony Spresense via `/dev/ttyTHS0` (Pins 8/10).\n- **NVIDIA Isaac ROS** : Acc√©l√©ration mat√©rielle pour la vision (OAK-D).\n\n### Couche Spresense (Temps R√©el)\nLa Spresense ex√©cute un firmware Arduino/NuttX avec **Micro-ROS Client**.\n- **Topics publi√©s** :\n    - `/audio/direction` : Angle DoA calcul√© par beamforming.\n    - `/imu/balance` : Donn√©es IMU torse (BMI270 Add-on) pour le contr√¥le d'√©quilibre.\n    - `/power/status` : Tension batterie 12S et temp√©rature interne.\n- **Fonction Watchdog** : Le firmware surveille le heartbeat de la Jetson et coupe le MOSFET de puissance en cas de freeze.\n- **Liaison Audio** : Flux 8 canaux via **UAC 2.0** (USB) pour une qualit√© Hi-Res (192 kHz).\n\n### Activation de l'Interface CAN\nL'adaptateur InnoMaker est reconnu comme `can0` (parfois `can1`).\nLe d√©bit standard Robstride est **1 Mbps** (1,000,000 bps).\n\n**Commande d'activation :**\n```bash\nsudo ip link set can0 up type can bitrate 1000000\n```\n\n**Commande de diagnostic (candump) :**\n```bash\ncandump can0\n```\n*Si vous voyez des lignes d√©filer (ex: `can0 141 [8] ...`), la communication est √©tablie.*\n\n### D√©pannage\n*   **Erreur \"Bus-off\"** : Souvent un probl√®me physique (Fils non torsad√©s, Terminaison 120 Ohm manquante, GND non reli√©).\n*   **Interface introuvable** : V√©rifiez `lsusb` (ID 1d50:606f) et chargez le module si besoin : `sudo modprobe gs_usb`.\n\n---\n\n## 2. Architecture ROS2\nL'objectif est d'avoir un syst√®me r√©actif o√π la vision influence directement les moteurs.\n\n### Noeuds ROS2 Sugg√©r√©s\n1.  **kbot_vision** : Wrapper pour l'OAK-D Pro. Publie les objets d√©tect√©s (`/detections`) et l'odom√©trie visuelle (`/odom`).\n2.  **kbot_motor_control** : Lit `/cmd_vel` ou `/joint_states` et envoie les trames CAN brutes aux moteurs.\n3.  **kbot_audio** : Interface avec la Spresense. Re√ßoit la direction du son (x,y,z) et publie une cible pour la t√™te (`/head_target`).\n4.  **kbot_balance** : Contr√¥leur d'√©quilibre. Lit `/imu/balance` (BMI270 torse) + `/joint_states` (encodeurs moteurs) et publie les corrections de couple sur les hanches/chevilles.\n5.  **kbot_joint_states** : Publie les positions/vitesses/couples des 24 moteurs via les encodeurs 14-bit RobStride int√©gr√©s (`/joint_states`).\n\n### Id√©es Algorithmiques\n*   **Beamforming (Audio)** : Utiliser les micros de la Spresense pour orienter la t√™te vers celui qui parle.\n*   **√âquilibre (IMU Torse)** : Lire l'IMU BMI270 du torse (via Spresense) pour le contr√¥le d'√©quilibre bip√®de. **Ne PAS utiliser l'IMU de l'OAK-D** (t√™te) pour l'√©quilibre ‚Äî elle bouge ind√©pendamment du corps.\n*   **Propri√∂ception (Encodeurs)** : Les encodeurs 14-bit doubles de chaque moteur RobStride fournissent la position et la vitesse articulaire en temps r√©el. L'estimation de couple via le courant moteur peut remplacer des capteurs de force/couple externes.\n\n---\n\n## 3. Outils de D√©veloppement\n*   **Fusion 360** : CAO M√©cano-Soud√©e.\n*   **Docker** : Recommand√© sur la Jetson pour isoler l'environnement ROS2 Humble/Jazzy.\n", "Conception: 06_Decisions_Architecturales": "# D√©cisions Architecturales\n\nCe document recense les choix techniques structurants effectu√©s durant la phase de conception (Discussions F√©vrier 2026).\n\n## 1. Choix du Kit Moteur\n**D√©cision** : Ajouter 2 moteurs **Robstride 05 (RS05)** au kit standard.\n*   **Pourquoi ?** Le kit de base manquait de couple au niveau du cou et des poignets pour un humano√Øde de cette taille.\n*   **Cons√©quence** : N√©cessite des vis sp√©cifiques (M4 Acier 12.9) et un ancrage ch√¢ssis renforc√© (PETG-CF 100% Infill).\n\n## 2. Carte d'Extension Sony Spresense\n**Choix** : **Extension Board Standard** (vs LTE Extension Board).\n*   **Motif Principal** : Capacit√©s Audio et √âvolutivit√©.\n    *   La carte Standard permet de connecter jusqu'√† **8 microphones num√©riques** (essentiel pour le *beamforming* et l'interaction vocale avanc√©e).\n    *   Elle poss√®de des connecteurs Arduino compatibles, permettant d'ajouter un shield LTE tiers plus tard si n√©cessaire.\n    *   La carte LTE officielle sacrifie trop d'I/O audios (max 4 micros) pour un usage \"autonome outdoor\" qui n'est pas la priorit√© imm√©diate.\n\n## 3. Positionnement LiDAR (Unitree L2)\n**Choix** : **Haut du Torse, devant le cou, inclin√© 10-20¬∞ vers l'avant**.\n*   **Alternatives rejet√©es** :\n    - *Sommet de la t√™te* : FOV id√©al mais n√©cessite un c√¢ble passant dans le cou articul√© (Pan/Tilt RS-05) ‚Äî risque d'usure et de torsion du c√¢ble, poids en hauteur (+CdG).\n    - *Tibia* : Trop bas, ne voit pas les tables ni les obstacles en hauteur.\n    - *Bassin* : Occult√© par les jambes lors de la marche.\n*   **Avantage du torse haut** :\n    - Champ de vision 360¬∞ d√©gag√© (les bras n'occultent que temporairement lors de manipulation).\n    - Pas de contrainte m√©canique de c√¢ble articul√©.\n    - Position stable (pas de vibrations du cou Pan/Tilt) = meilleur SLAM.\n    - L'inclinaison de 10-20¬∞ compense le d√©calage par rapport au sol.\n*   **Compensation** : L'OAK-D Pro (vision st√©r√©o) dans la t√™te compl√®te le champ de vision frontal quand les bras sont lev√©s.\n\n## 4. Mat√©riaux et Fixations\n*   **Visserie** : Standardisation sur **DIN 912** (Cylindrique) Inox A2.\n*   **Inserts** : Laiton (type Ruthex) pr√©f√©r√©s √† l'Inox.\n    *   *Raison* : L'Inox conduit mal la chaleur, rendant la pose dans le plastique tr√®s risqu√©e (fonte excessive autour de l'insert). La longueur de l'insert prime sur sa mati√®re.\n", "Conception: 14_Cinematique_Moteurs": "# 14 - Cin√©matique & Choix Moteurs\n\nCe document d√©taille l'architecture cin√©matique du D-Bot (**Standard 24 DOF**) et les sp√©cifications techniques des actionneurs **RobStride**.\n\n## 1. Configuration K-Bot Standard (20 DOF)\n\n### üìä Architecture Officielle K-Scale\nLe K-Bot standard est un robot humano√Øde open-source de taille r√©elle d√©velopp√© par K-Scale Labs, √©quip√© de **20 moteurs RobStride** pour 20 degr√©s de libert√©. La configuration D-Bot √©tend cette base avec une t√™te articul√©e.\n\n**Source** : [K-Scale Official Documentation](https://docs.kscale.dev/robots/k-bot/motor-id-mapping)\n\n---\n\n### ü¶æ BRAS (10 moteurs - 5 par bras)\n\n**Configuration par bras :**\n\n| Articulation | Moteur | IDs<br/>(G/D) | Couple<br/>Pic | Couple<br/>Nom. | Poids | Fonction |\n| :--- | :---: | :---: | :---: | :---: | :---: | :--- |\n| **√âpaule Pitch** | RS-03 | 11 / 21 | 60 N.m | 20 N.m | 880g | Lever le bras |\n| **√âpaule Roll** | RS-03 | 12 / 22 | 60 N.m | 20 N.m | 880g | √âcarter le bras |\n| **√âpaule Yaw** | RS-02 | 13 / 23 | 17 N.m | 6 N.m | 405g | Rotation interne |\n| **Coude Pitch** | RS-02 | 14 / 24 | 17 N.m | 6 N.m | 405g | Flexion |\n| **Poignet Roll** | RS-00 | 15 / 25 | 14 N.m | 5 N.m | 310g | Orientation fine |\n\n**Total par bras** : 3 kg environ  \n**Total 2 bras** : 10 moteurs (4√ó RS-03 + 4√ó RS-02 + 2√ó RS-00)\n\n---\n\n### ü¶µ JAMBES (10 moteurs - 5 par jambe)\n\n**Configuration par jambe :**\n\n| Articulation | Moteur | IDs<br/>(G/D) | Couple<br/>Pic | Couple<br/>Nom. | Poids | Fonction |\n| :--- | :---: | :---: | :---: | :---: | :---: | :--- |\n| **Hanche Pitch** | RS-04 | 31 / 41 | 120 N.m | 40 N.m | 1420g | Flexion jambe |\n| **Hanche Roll** | RS-03 | 32 / 42 | 60 N.m | 20 N.m | 880g | √âquilibre lat√©ral |\n| **Hanche Yaw** | RS-03 | 33 / 43 | 60 N.m | 20 N.m | 880g | Rotation hanche |\n| **Genou Pitch** | RS-04 | 34 / 44 | 120 N.m | 40 N.m | 1420g | Flexion genou |\n| **Cheville Pitch** | RS-02 | 35 / 45 | 17 N.m | 6 N.m | 405g | Propulsion |\n\n**Total par jambe** : 4.6 kg environ  \n**Total 2 jambes** : 10 moteurs (4√ó RS-04 + 4√ó RS-03 + 2√ó RS-02)\n\n---\n\n### üî¢ INVENTAIRE K-BOT STANDARD\n\n| Mod√®le | Quantit√© | Poids Unit. | Poids Total | Usage Principal |\n| :---: | :---: | :---: | :---: | :--- |\n| **RS-04** | 4 | 1420g | 5.68 kg | Hanches Pitch + Genoux |\n| **RS-03** | 8 | 880g | 7.04 kg | √âpaules + Rotations hanches |\n| **RS-02** | 6 | 405g | 2.43 kg | Coudes + Yaw √©paules + Chevilles |\n| **RS-00** | 2 | 310g | 0.62 kg | Poignets |\n| **TOTAL** | **20** | | **15.77 kg** | Total moteurs K-Bot |\n\n---\n\n### ü§ñ √âVOLUTION D-BOT (24 DOF Standard)\n\nLe **D-Bot** √©tend le K-Bot avec une **t√™te articul√©e** et des **chevilles √† 2 DOF** (pour la stabilit√© lat√©rale) :\n\n| Ajout D-Bot | Moteur | Quantit√© | Couple Pic | Fonction |\n| :--- | :---: | :---: | :---: | :--- |\n| **Cou Pan** (Yaw) | RS-05 | 1 | 5.5 N.m | Rotation horizontale t√™te |\n| **Cou Tilt** (Pitch) | RS-05 | 1 | 5.5 N.m | Inclinaison t√™te |\n| **Cheville Roll** | RS-02 | 2 | 17 N.m | **Stabilit√© lat√©rale** (Correction √©quilibre) |\n\n**Total D-Bot** : 20 (Base) + 2 (T√™te) + 2 (Chevilles) = **24 moteurs** (Architecture \"D-Bot Performance\").\n\n## 2. Sp√©cifications Moteurs RobStride (Gamme Compl√®te)\nVoici les donn√©es techniques consolid√©es pour l'ensemble de la gamme RobStride (F√©vrier 2025).  \n*Prix officiels RobStride ou sources v√©rifi√©es (OpenELAB, AiFitLab) - Hors taxes/livraison.*\n\n| Mod√®le | Pic<br/>(N.m) | Nom.<br/>(N.m) | Vmax<br/>(RPM) | Poids<br/>(g) | Dim.<br/>(mm) | Ratio | Prix<br/>($) | Volt.<br/>(V) | Usage D-Bot |\n| :--- | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :--- |\n| **RS-05** | **5.5** | 1.6 | 480 | **191** | 46√ó46√ó44 | 7.75:1 | **$120** | 48V (15-60V) | **Cou**, Doigts (futur) |\n| **RS-00** | **14.0** | 5.0 | 315 | **310** | 57√ó57√ó51 | 10:1 | **$135** | 48V (24-60V) | **Poignet** (Compact, fort couple) |\n| **RS-01** | **17.0** | 6.0 | 350 | **380** | 78.5√ó78.5√ó40 | 7.75:1 | **$140** | 36V (24-48V) | Alternative RS-02 (36V) |\n| **RS-02** | **17.0** | 6.0 | 410 | **405** | 78.5√ó78.5√ó45.5 | 7.75:1 | **$160** | 48V (24-60V) | **Coude**, Biceps, Poignet |\n| **RS-06** | **36.0** | 11.0 | 480 | **621** | 88√ó88√ó49 | 9:1 | **$230** | 48V (15-60V) | Entre-deux (√âpaule l√©g√®re) |\n| **RS-03** | **60.0** | 20.0 | 195 | **880** | 106√ó106√ó56 | 9:1 | **$250** | 48V (15-60V) | **√âpaule** (Force brute) |\n| **RS-04** | **120.0** | 40.0 | 200 | **1420** | 120√ó120√ó56 | 9:1 | **$280** | 48V (15-60V) | **Hanche**, Genou, Cheville |\n\n### Analyse Comparative\n\n####  RS-05 vs RS-00 (Petits Moteurs)\n*   **RS-05** : Ultral√©ger (191g), id√©al pour le cou o√π chaque gramme compte. Couple modeste (5.5 N.m) mais suffisant pour orientation.\n*   **RS-00** : Plus dense (310g, +62%) mais d√©livre **2,5√ó plus de couple** (14 N.m). Parfait pour un poignet devant porter des charges sans fl√©chir.\n\n#### RS-01 vs RS-02 (Moteurs Moyens)\n*   **M√™me couple** (17 N.m pic), mais **RS-01** optimis√© pour **36V** (id√©al pour batteries LiPo 8S), plus compact en profondeur (40mm vs 45.5mm).\n*   **RS-02** : Con√ßu pour **48V**, marginalement plus lourd (+25g). Standard pour D-Bot aux coudes/biceps.\n\n#### RS-06 (Interm√©diaire Nouveau)\n*   **Niche** : Entre RS-02 (17 N.m) et RS-03 (60 N.m). Avec **36 N.m** et 621g, c'est un compromis pour des articulations n√©cessitant plus que du RS-02 sans le poids du RS-03.\n*   **Usage potentiel** : √âpaule de petits robots, torse rotation, ou remplacer un RS-03 si l'on veut √©conomiser 260g et 20$.\n\n#### RS-03 vs RS-04 (Gros Moteurs)\n*   **Saut de performance brutal** : RS-03 ‚Üí 60 N.m (880g) ; RS-04 ‚Üí **120 N.m** (1420g, +61% poids).\n*   **RS-03** : Minimum vital pour l'√©paule D-Bot (couple n√©cessaire pour contrer le bras-de-levier).\n*   **RS-04** : Incontournable pour hanches/jambes. **Attention** : Peut briser des pi√®ces PLA/PETG standard ‚Üí Utiliser **PETG-CF (100% remplissage)** ou **Alu 6061 CNC**.\n\n### Choix pour le D-Bot (Rappel R√©partition)\n| Zone | Moteur | Quantit√© | Couple Requis | Justification |\n| :--- | :---: | :---: | :---: | :--- |\n| Cou (Pan/Tilt) | RS-05 | 2 | 5.5 N.m | L√©g√®ret√© critique (t√™te lourde avec LiDAR/cam√©ras) |\n| Poignet | RS-00 | 2 | 14 N.m | Compact, fort couple pour manipulation fine |\n| Coude/Biceps/Avant-bras | RS-02 | 6 (3 par bras) | 17 N.m | Standard polyvalent 48V |\n| √âpaule | RS-03 | 2 | 60 N.m | Force indispensable pour porte-√†-faux max |\n| Jambes (Hanche/Genou/Cheville) | RS-04 | 10 (5 par jambe) | 120 N.m | Portance totale (~15 kg robot) |\n\n**Total moteurs D-Bot** : 2 + 2 + 6 + 2 + 10 + 2 (Cheville Roll) = **24 moteurs**.\n\n## 3. Communication & Alimentation\nTous les moteurs partagent le m√™me protocole :\n*   **Bus** : CAN 2.0B @ 1 Mbps.\n*   **Alimentation** : 48V DC Nominal (Supportent 24V mais avec couple/vitesse r√©duits). RS-01 optimis√© pour 36V.\n*   **C√¢blage** : Daisy-chain (Cha√Æne) via connecteurs JST-GH 1.25mm (Data) et XT60 (Power).\n*   **Encodeurs** : Dual 14-bit magnetic encoders (haute pr√©cision + redondance).\n*   **Protection** : IP52 standard (IP67 en option sur certains mod√®les).\n\n> [!WARNING]\n> **Attention au RS-04** : Avec 120 N.m de couple, ce moteur peut briser des pi√®ces imprim√©es en PLA ou PETG standard en cas de collision. Utilisez imp√©rativement du **PETG-CF** (Remplissage 100%) ou des pi√®ces CNC Alu 6061 pour les brackets de hanches.\n\n> [!NOTE]\n> **Prix et Disponibilit√©** : Les prix sont issus des sources officielles RobStride et distributeurs agr√©√©s (OpenELAB, AiFitLab) en F√©vrier 2025. V√©rifiez la disponibilit√© avant commande - certains mod√®les peuvent avoir des d√©lais variables.\n", "Conception: 15_Analyse_Biomecanique": "# 15 - Analyse Biom√©canique & Propositions d'√âvolution\n\nCe document analyse les capacit√©s m√©caniques du D-Bot dans sa configuration actuelle et propose des √©volutions pour am√©liorer ses performances en marche, marche rapide et portage de charges.\n\n## 1. Param√®tres du Robot (Configuration Actuelle)\n\n### Caract√©ristiques Physiques\n\n| Param√®tre | Valeur |\n| :--- | :--- |\n| **Hauteur** | 1.40 m (K-Bot standard) |\n| **Masse totale (estim√©e)** | ~34 kg (K-Bot) / ~36 kg (D-Bot avec t√™te) |\n| **Masse moteurs seuls** | 15.77 kg (K-Bot) + 0.38 kg (cou D-Bot) = 16.15 kg |\n| **Charge utile bras (spec)** | ~10 kg (total 2 bras) |\n| **Autonomie** | ~4h (batterie LiPo √©changeable) |\n| **DOF** | 20 (K-Bot) / 22 (D-Bot) |\n\n### Longueurs de Segments Estim√©es (robot 1.40m)\n\n| Segment | Longueur | Masse Estim√©e |\n| :--- | :---: | :---: |\n| Cuisse (hanche ‚Üí genou) | ~35 cm | ~4 kg |\n| Tibia (genou ‚Üí cheville) | ~35 cm | ~3 kg |\n| Bras (√©paule ‚Üí coude) | ~25 cm | ~2.5 kg |\n| Avant-bras (coude ‚Üí poignet) | ~22 cm | ~1.5 kg |\n| Torse | ~40 cm | ~12 kg |\n| T√™te D-Bot | ~15 cm | ~2 kg |\n\n---\n\n## 2. Analyse des Capacit√©s de Marche\n\n### 2.1 Marche Lente (< 1 km/h)\n\n#### Couples Requis (Analyse Statique)\n\nEn phase d'appui simple, un seul genou supporte toute la masse du robot :\n\n| Articulation | Couple Disponible (Pic) | Couple Requis (Estim√©) | Marge | Verdict |\n| :--- | :---: | :---: | :---: | :---: |\n| **Hanche Pitch** (RS-04) | 120 N.m | ~50 N.m | **+140%** | ‚úÖ Confortable |\n| **Hanche Roll** (RS-03) | 60 N.m | ~25 N.m | **+140%** | ‚úÖ Confortable |\n| **Hanche Yaw** (RS-03) | 60 N.m | ~15 N.m | **+300%** | ‚úÖ Surplus |\n| **Genou Pitch** (RS-04) | 120 N.m | ~60 N.m | **+100%** | ‚úÖ OK |\n| **Cheville Pitch** (RS-02) | 17 N.m | ~30 N.m | **-43%** | ‚ö†Ô∏è INSUFFISANT |\n\n> [!CAUTION]\n> **Point faible critique : La CHEVILLE** (RS-02, 17 N.m pic) est tr√®s probablement sous-dimensionn√©e pour la marche. En phase de pouss√©e (toe-off), la cheville doit g√©n√©rer un couple de ~30-50 N.m pour propulser 34 kg. Le RS-02 est √† 17 N.m pic (6 N.m nominal), ce qui est **2 √† 3√ó trop faible**.\n\n#### Explication du Calcul Cheville\n```\nCouple cheville = Masse √ó g √ó Distance CdP-Cheville\n                = 34 kg √ó 9.81 m/s¬≤ √ó 0.10 m (distance talon)\n                ‚âà 33 N.m minimum statique\n                ‚âà 50 N.m en dynamique (acc√©l√©rations)\n```\n\n**Conclusion marche lente** : La marche lente de type \"shuffle\" est possible gr√¢ce au surdimensionnement des hanches et genoux, mais sera fortement limit√©e par les chevilles. La marche sera plut√¥t un mouvement de type \"flat-foot\" sans propulsion.\n\n---\n\n### 2.2 Marche Rapide (2-3 km/h)\n\n| Param√®tre | Requis | Disponible | Verdict |\n| :--- | :---: | :---: | :---: |\n| Couple genou dynamique | ~80 N.m | 120 N.m (RS-04) | ‚úÖ Suffisant |\n| Couple hanche dynamique | ~70 N.m | 120 N.m (RS-04) | ‚úÖ Suffisant |\n| Couple cheville dynamique | ~50-60 N.m | 17 N.m (RS-02) | ‚ùå **CRITIQUE** |\n| Vitesse cycle hanche | ~100 RPM | 200 RPM (RS-04) | ‚úÖ OK |\n| Vitesse cycle genou | ~150 RPM | 200 RPM (RS-04) | ‚úÖ Limite |\n\n> [!WARNING]\n> **La marche rapide est quasi-impossible** dans la configuration actuelle √† cause des chevilles RS-02. Le robot ne peut pas se propulser efficacement. Il est limit√© √† un mode \"shuffle\" < 1 km/h.\n\n---\n\n### 2.3 Course (> 4 km/h)\n\nLa course est **impossible** dans la configuration actuelle :\n- Les chevilles (RS-02) n'ont que 17 N.m vs ~100 N.m requis pour la phase de vol\n- Les genoux (RS-04, 200 RPM) sont trop lents pour la fr√©quence de pas requise\n- Pas de compliance √©lastique dans le syst√®me actuel\n\n---\n\n## 3. Analyse de la Capacit√© de Portage\n\n### 3.1 Portage √† Bout de Bras (Bras Tendu Horizontal)\n\nC'est le **cas le plus d√©favorable** car le bras-de-levier est maximal.\n\n#### Mod√®le M√©canique (Bras Tendu)\n```\nBras total ‚âà 47 cm (25 cm bras + 22 cm avant-bras)\n\nCouple √©paule = (Masse_bras √ó g √ó L/2) + (Masse_charge √ó g √ó L_total)\n```\n\n| Charge Port√©e | Couple √âpaule Requis | Couple Dispo (RS-03) | Verdict |\n| :---: | :---: | :---: | :---: |\n| **0 kg** (bras seul) | ~10 N.m | 60 N.m pic / 20 N.m nom. | ‚úÖ OK |\n| **1 kg** | ~15 N.m | 60 / 20 N.m | ‚úÖ OK |\n| **2 kg** | ~19 N.m | 60 / 20 N.m | ‚ö†Ô∏è Limite nominale |\n| **3 kg** | ~24 N.m | 60 / 20 N.m | ‚ö†Ô∏è Au-dessus nominal |\n| **5 kg** | ~33 N.m | 60 / 20 N.m | ‚ùå > 1.5√ó nominal |\n| **10 kg** | ~55 N.m | 60 / 20 N.m | ‚ùå Presque pic, **dangereux** |\n\n> [!IMPORTANT]\n> **Limite de portage √† bout de bras** : ~**2 kg en continu** (couple nominal) et ~**5 kg momentan√©ment** (pic). Les 10 kg annonc√©s par K-Scale ne sont possibles que **bras pli√©** (coude fl√©chi √† 90¬∞) ce qui divise le bras-de-levier par 2.\n\n### 3.2 Portage Bras Pli√© (Coude 90¬∞)\n\n| Charge Port√©e | Couple √âpaule Requis | Couple Coude Requis | Verdict |\n| :---: | :---: | :---: | :---: |\n| **5 kg** | ~24 N.m | ~11 N.m | ‚úÖ Faisable |\n| **10 kg** | ~38 N.m | ~22 N.m | ‚ö†Ô∏è Coude au pic (RS-02: 17 N.m) |\n\n> [!WARNING]\n> **Le coude (RS-02, 17 N.m pic) est un goulot d'√©tranglement** pour le portage lourd. Porter 10 kg bras pli√© n√©cessite ~22 N.m au coude, ce qui d√©passe le pic du RS-02.\n\n---\n\n## 4. Synth√®se des Faiblesses\n\n| Zone | Moteur Actuel | Probl√®me | S√©v√©rit√© |\n| :--- | :---: | :--- | :---: |\n| **Cheville** | RS-02 (17 N.m) | Sous-dimensionn√© 2-3√ó pour marche | üî¥ **CRITIQUE** |\n| **Coude** | RS-02 (17 N.m) | Limite pour portage > 5 kg | üü° **MOYEN** |\n| **√âpaule Pitch** | RS-03 (60 N.m) | Limite pour portage > 3 kg bras tendu | üü° **MOYEN** |\n| **Cheville Roll** | Aucun | Pas de DOF d'adaptation au sol | üü† **IMPORTANT** |\n\n---\n\n## 5. Propositions d'√âvolution\n\n### Option A : Upgrade RobStride (Restant dans l'√©cosyst√®me)\n\n#### A1. Chevilles RS-02 ‚Üí RS-03\n\n| Param√®tre | Avant (RS-02) | Apr√®s (RS-03) | Gain |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 17 N.m | 60 N.m | **√ó3.5** |\n| Couple Nominal | 6 N.m | 20 N.m | **√ó3.3** |\n| Poids | 405g | 880g | +475g/cheville |\n| Surpoids total | - | +950g (2 chevilles) | |\n| Prix unitaire | $160 | $250 | +$180 total |\n\n**Verdict** : ‚úÖ **RECOMMAND√â**. R√©sout le probl√®me critique de propulsion. +950g est acceptable sur des chevilles (position basse = faible impact inertiel).\n\n#### A2. √âpaules RS-03 ‚Üí RS-04\n\n| Param√®tre | Avant (RS-03) | Apr√®s (RS-04) | Gain |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 60 N.m | 120 N.m | **√ó2** |\n| Couple Nominal | 20 N.m | 40 N.m | **√ó2** |\n| Poids | 880g | 1420g | +540g/√©paule |\n| Surpoids total | - | +2160g (4 √©paules) | |\n| Prix unitaire | $250 | $280 | +$120 total |\n| Portage bras tendu | ~2 kg continu | ~5 kg continu | **√ó2.5** |\n\n**Verdict** : ‚ö†Ô∏è **√Ä √âVALUER**. Gain de portage significatif mais +2.16 kg en hauteur (√©paules) = fort impact sur le centre de gravit√© et l'inertie. Recommand√© uniquement si le portage lourd est une priorit√©.\n\n#### A3. Coudes RS-02 ‚Üí RS-06\n\n| Param√®tre | Avant (RS-02) | Apr√®s (RS-06) | Gain |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 17 N.m | 36 N.m | **√ó2.1** |\n| Couple Nominal | 6 N.m | 11 N.m | **√ó1.8** |\n| Poids | 405g | 621g | +216g/coude |\n| Surpoids total | - | +432g (2 coudes) | |\n| Prix unitaire | $160 | $230 | +$140 total |\n| Portage bras pli√© | ~5 kg pic | ~10 kg pic | **√ó2** |\n\n**Verdict** : ‚úÖ **RECOMMAND√â** si portage important. Le RS-06 est un excellent interm√©diaire : double le couple au coude pour seulement +216g. Compatible dimensionnellement (88mm vs 78.5mm, √† v√©rifier clearance).\n\n---\n\n### Option B : Moteurs Alternatifs (Hors RobStride)\n\n#### B1. CubeMars AK10-9 V3 (pour √âpaules)\n\n| Param√®tre | RS-03 (actuel) | AK10-9 V3 | Comparaison |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 60 N.m | 53 N.m | -12% |\n| Couple Nominal | 20 N.m | 18 N.m | -10% |\n| Poids | 880g | 940g | +7% |\n| Densit√© couple | 68 N.m/kg | 56 N.m/kg | -18% |\n| Prix | ~$250 | ~$860-970 | **√ó3.5** |\n\n**Verdict** : ‚ùå **NON RECOMMAND√â**. Moins performant et 3-4√ó plus cher que le RS-03. Le RobStride est sup√©rieur sur tous les crit√®res.\n\n#### B2. CubeMars AK80-9 V3 (pour Chevilles)\n\n| Param√®tre | RS-02 (actuel) | AK80-9 V3 | Comparaison |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 17 N.m | 22 N.m | +29% |\n| Couple Nominal | 6 N.m | 9 N.m | +50% |\n| Poids | 405g | 480g | +19% |\n| Prix | ~$160 | ~$480-580 | **√ó3** |\n\n**Verdict** : ‚ö†Ô∏è **INSUFFISANT**. +29% de couple ne r√©sout pas le probl√®me des chevilles (besoin minimum 40 N.m). Et co√ªte 3√ó plus cher qu'un RS-02. Passer directement √† un RS-03 est meilleur et moins cher.\n\n#### B3. MyActuator RMD-X10 V3 (pour Chevilles)\n\n| Param√®tre | RS-02 (actuel) | RMD-X10 V3 | Comparaison |\n| :--- | :---: | :---: | :---: |\n| Couple Pic | 17 N.m | 50 N.m | **+194%** |\n| Couple Nominal | 6 N.m | 12 N.m | +100% |\n| Poids | 405g | 1150g | +184% |\n| Prix | ~$160 | ~$890 | **√ó5.5** |\n\n**Verdict** : ‚ö†Ô∏è **POSSIBLE mais co√ªteux**. Couple suffisant pour les chevilles (50 N.m pic) mais tr√®s lourd (1.15 kg) et tr√®s cher ($890). Le RS-03 RobStride fait mieux (60 N.m, 880g, $250).\n\n---\n\n### Option C : Configuration \"D-Bot Performance\" (Recommand√©e)\n\nCombinaison optimale des upgrades identifi√©s :\n\n| Zone | Avant | Apr√®s | Changement | Surco√ªt |\n| :--- | :---: | :---: | :--- | :---: |\n| **Cheville** | 2√ó RS-02 | **2√ó RS-03** | 17‚Üí60 N.m (√ó3.5) | +$180 |\n| **Coude** | 2√ó RS-02 | **2√ó RS-06** | 17‚Üí36 N.m (√ó2.1) | +$140 |\n| **√âpaule Yaw** | 2√ó RS-02 | 2√ó RS-02 | Inchang√© | $0 |\n| Reste | Inchang√© | Inchang√© | Inchang√© | $0 |\n\n#### Bilan de l'Option C\n\n| Impact | D√©tail |\n| :--- | :--- |\n| **Surpoids** | +950g (chevilles) +432g (coudes) = **+1.38 kg** ‚Üí 37.4 kg total |\n| **Surco√ªt** | +$320 total |\n| **Marche** | Chevilles 60 N.m ‚Üí **Marche stable et propuls√©e** ‚úÖ |\n| **Marche rapide** | 2-3 km/h devient **r√©alisable** ‚úÖ |\n| **Portage bras tendu** | 2 kg ‚Üí **3 kg** (coude am√©lior√©) |\n| **Portage bras pli√©** | 5 kg ‚Üí **10 kg** (coude 36 N.m) ‚úÖ |\n| **Compatibilit√©** | M√™mes protocoles (CAN), m√™mes connecteurs |\n\n### Option D : Configuration \"D-Bot Maximal\" (Performance Maximale)\n\nPour un portage lourd et une marche dynamique :\n\n| Zone | Avant | Apr√®s | Changement | Surco√ªt |\n| :--- | :---: | :---: | :--- | :---: |\n| **Cheville** | 2√ó RS-02 | **2√ó RS-03** | 17‚Üí60 N.m (√ó3.5) | +$180 |\n| **√âpaule Pitch** | 2√ó RS-03 | **2√ó RS-04** | 60‚Üí120 N.m (√ó2) | +$60 |\n| **√âpaule Roll** | 2√ó RS-03 | **2√ó RS-04** | 60‚Üí120 N.m (√ó2) | +$60 |\n| **Coude** | 2√ó RS-02 | **2√ó RS-06** | 17‚Üí36 N.m (√ó2.1) | +$140 |\n\n#### Bilan de l'Option D\n\n| Impact | D√©tail |\n| :--- | :--- |\n| **Surpoids** | +950g +2160g +432g = **+3.54 kg** ‚Üí 39.5 kg total |\n| **Surco√ªt** | +$440 total |\n| **Marche** | Chevilles 60 N.m ‚Üí **Marche stable** ‚úÖ |\n| **Portage bras tendu** | 2 kg ‚Üí **5 kg continu** ‚úÖ |\n| **Portage bras pli√©** | 5 kg ‚Üí **15+ kg th√©orique** ‚úÖ |\n| **CdG** | Plus haut (+2.16 kg aux √©paules) ‚Äî **compens√© par le Roll cheville** |\n\n> [!NOTE]\n> **Clarification sur l'impact CdG** : L'Option D ajoute 3.5 kg dont 2.16 kg aux √©paules. Cela √©l√®ve le CdG mais **l'ajout du Roll cheville (voir Section 7) compense largement** ce handicap en fournissant des corrections lat√©rales rapides. **Les deux options C et D n√©cessitent un re-tuning des algorithmes de marche** (masse diff√©rente, nouveaux DOF, nouvelles limites de couple). La difficult√© de re-tuning de l'Option D est seulement **marginalement sup√©rieure** √† celle de l'Option C. Le surco√ªt D vs C n'est que de +$120 et +1.35 kg.\n\n---\n\n## 6. Recommandation Finale (Initiale ‚Äî voir Section 8 pour version r√©vis√©e)\n\n### Analyse historique (avant ajout du Roll cheville)\n\n*Cette section refl√®te l'analyse initiale, **avant** la prise en compte du Roll cheville. La recommandation a √©volu√© ‚Äî voir Section 8 pour les configurations r√©vis√©es et Section 9 pour le comparatif final.*\n\n**Raisonnement initial** : L'Option C √©tait recommand√©e pour son rapport performance/impact. Cependant, l'ajout du Roll cheville dans les deux options change la donne :\n\n- **Les deux options n√©cessitent un re-tuning** des algorithmes de marche (c'est in√©vitable d√®s qu'on modifie la configuration moteur)\n- Le Roll cheville **compense le CdG plus haut** de l'Option D\n- Le surco√ªt D vs C n'est que de **+$120 et +1.35 kg** pour un gain de portage **consid√©rable**\n\n### √Ä retenir sur les moteurs alternatifs\n\nLes alternatives √©tudi√©es (CubeMars AK, MyActuator RMD) ne sont PAS comp√©titives face √† RobStride pour ce projet :\n- **3 √† 5√ó plus chers** √† performances √©quivalentes\n- **Densit√© de couple inf√©rieure** dans la plupart des cas\n- **√âcosyst√®me incompatible** (drivers diff√©rents, protocoles diff√©rents)\n- Le seul int√©r√™t serait une **personnalisation extr√™me** ou un besoin de backdrivabilit√© sup√©rieure (AK80-9)\n\n**RobStride offre le meilleur rapport couple/poids/prix** sur le march√© des QDD en 2024-2025.\n\n---\n---\n\n## 7. ADDENDUM ‚Äî Analyse du DOF Cheville Roll Manquant\n\n> *Ajout√© suite √† l'identification d'un probl√®me structurel dans la configuration K-Bot standard.*\n\n### 7.1 Le Probl√®me : 1 DOF Cheville vs 2 DOF\n\nLa configuration K-Bot standard n'a qu'**un seul DOF de cheville** (Pitch) ‚Äî pas de Roll. Cela signifie que le pied ne peut que basculer avant/arri√®re, mais **pas se pencher lat√©ralement**.\n\n| Config Cheville | K-Bot Actuel | Humain | Robots Avanc√©s |\n| :--- | :---: | :---: | :---: |\n| **Pitch** (avant/arri√®re) | ‚úÖ RS-02 | ‚úÖ | ‚úÖ |\n| **Roll** (lat√©ral) | ‚ùå Absent | ‚úÖ | ‚úÖ (2 DOF standard) |\n| **Yaw** (rotation) | ‚ùå | ‚úÖ (via hanche) | Rare |\n\n### 7.2 Pourquoi c'est un VRAI Probl√®me\n\nLa recherche acad√©mique (IEEE, MDPI) confirme que l'absence de Roll cheville a des cons√©quences majeures :\n\n#### Impact sur la stabilit√© lat√©rale\n\n```\nSans Roll cheville :\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Le robot ne peut PAS ajuster       ‚îÇ\n‚îÇ  l'inclinaison lat√©rale du pied.    ‚îÇ\n‚îÇ                                     ‚îÇ\n‚îÇ  ‚Üí Le Centre de Pression (CoP)      ‚îÇ\n‚îÇ    ne peut se d√©placer que sur       ‚îÇ\n‚îÇ    l'axe avant/arri√®re du pied.     ‚îÇ\n‚îÇ                                     ‚îÇ\n‚îÇ  ‚Üí Stabilit√© lat√©rale = uniquement  ‚îÇ\n‚îÇ    via les hanches (Roll + Yaw)     ‚îÇ\n‚îÇ    = mouvements amples et lents.    ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\nAvec Roll cheville :\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Le pied s'adapte au sol et         ‚îÇ\n‚îÇ  le CoP se d√©place librement        ‚îÇ\n‚îÇ  sur TOUTE la surface du pied.      ‚îÇ\n‚îÇ                                     ‚îÇ\n‚îÇ  ‚Üí Corrections rapides et fines     ‚îÇ\n‚îÇ  ‚Üí Consommation √©nergie r√©duite     ‚îÇ\n‚îÇ  ‚Üí Marche sur terrain irr√©gulier    ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n#### Cons√©quences Concr√®tes\n\n| Situation | Sans Roll Cheville | Avec Roll Cheville |\n| :--- | :--- | :--- |\n| **Sol plat** | ‚ö†Ô∏è Fonctionnel mais corrections par hanches uniquement | ‚úÖ Corrections fines et rapides |\n| **Sol inclin√© lat√©ralement** | ‚ùå Pied ne s'adapte pas, risque chute | ‚úÖ Pied s'incline pour suivre le sol |\n| **Terrain irr√©gulier** | ‚ùå Tr√®s instable, surface d'appui r√©duite | ‚úÖ Contact pied complet maintenu |\n| **Virage en marchant** | ‚ö†Ô∏è Tr√®s limit√©, transfert de poids difficile | ‚úÖ Transfert lat√©ral naturel |\n| **Position debout statique** | ‚ö†Ô∏è Oscillations lat√©rales mal corrig√©es | ‚úÖ Micro-ajustements permanents |\n| **Portage asym√©trique** | ‚ùå Objet lourd d'un c√¥t√© = d√©s√©quilibre | ‚úÖ Compensation par inclinaison pied |\n\n> [!CAUTION]\n> **Impact estim√©** : Sans Roll cheville, la stabilit√© lat√©rale du robot est r√©duite de **40-60%** selon les publications. Le robot sera limit√© √† des surfaces planes et parfaitement horizontales pour une marche fiable.\n\n### 7.3 Solutions Propos√©es\n\n#### Solution S1 : Ajout d'un RS-02 par cheville (Config \"6 DOF Jambe\")\n\nC'est la solution la plus directe, mentionn√©e par K-Scale eux-m√™mes comme extension possible.\n\n| Param√®tre | D√©tail |\n| :--- | :--- |\n| **Moteur ajout√©** | 2√ó RS-02 (1 par cheville) |\n| **DOF cheville** | Pitch (existant) + **Roll (nouveau)** |\n| **Couple Roll** | 17 N.m (suffisant pour correction lat√©rale) |\n| **Surpoids** | +810g (2√ó 405g) |\n| **Surco√ªt** | +$320 (2√ó $160) |\n| **DOF total robot** | 22 ‚Üí **24 DOF** (D-Bot) |\n| **Complexit√© m√©canique** | Moyenne ‚Äî N√©cessite un bracket d'articulation additionnel |\n\n**Avantage** : Le couple de Roll cheville n'a PAS besoin d'√™tre aussi √©lev√© que le Pitch. Le RS-02 (17 N.m) est suffisant car le Roll est un mouvement de **correction fine**, pas de propulsion. Les forces lat√©rales sont 3-5√ó inf√©rieures aux forces sagittales.\n\n**Justification du RS-02 vs RS-03** :\n```\nCouple Roll cheville requis (estimation) :\n= Masse √ó g √ó D√©calage_lat√©ral_CoG\n= 36 kg √ó 9.81 √ó 0.03 m (d√©calage lat√©ral max)\n‚âà 10.6 N.m (statique)\n‚âà 15 N.m (dynamique avec marges)\n\n‚Üí RS-02 (17 N.m pic, 6 N.m nominal) = SUFFISANT avec marge de 13%\n```\n\n#### Solution S2 : Pied Passif √† Compliance (Sans Moteur)\n\nAlternative m√©canique sans ajout de moteur :\n\n| Param√®tre | D√©tail |\n| :--- | :--- |\n| **Principe** | Pied articul√© avec joint √©lastom√®re permettant un Roll passif (~¬±5¬∞) |\n| **Moteur ajout√©** | Aucun |\n| **Surpoids** | +100-200g (m√©canisme passif) |\n| **Surco√ªt** | +$20-50 (impression 3D + √©lastom√®re) |\n| **Couple Roll** | 0 N.m (passif, retour √©lastique uniquement) |\n| **Complexit√©** | Faible ‚Äî Design m√©canique du pied uniquement |\n\n**Avantage** : Z√©ro surco√ªt moteur, z√©ro complexit√© √©lectronique suppl√©mentaire.\n\n**Inconv√©nient** : Pas de contr√¥le actif du Roll. Le pied s'adapte au sol par compliance mais ne peut pas corriger activement l'√©quilibre. Mieux que rien, mais insuffisant pour terrain irr√©gulier.\n\n#### Solution S3 : M√©canisme Parall√®le Cheville 2-DOF (Design Avanc√©)\n\nSolution inspir√©e de la recherche robotique (DFKI, IEEE) :\n\n| Param√®tre | D√©tail |\n| :--- | :--- |\n| **Principe** | 2 moteurs actionnant la cheville en parall√®le (type Stewart plateforme simplifi√©e) |\n| **Moteurs** | 2√ó RS-02 ou 2√ó RS-06 en configuration parall√®le |\n| **Avantage** | Pitch ET Roll avec un seul m√©canisme compact |\n| **Surpoids** | +405-621g (1 moteur suppl√©mentaire, le 2√®me remplace le Pitch existant) |\n| **Surco√ªt** | +$160-230 |\n| **Complexit√©** | **√âlev√©e** ‚Äî Conception m√©canique complexe (cin√©matique parall√®le) |\n\n**Verdict** : Trop complexe pour un premier prototype. Recommand√© uniquement pour une V2 du robot.\n\n### 7.4 Recommandation : Solution S1 (RS-02 Roll Cheville)\n\nLa Solution S1 est recommand√©e car :\n- ‚úÖ Couple suffisant (17 N.m vs ~15 N.m requis)\n- ‚úÖ Compatible √©cosyst√®me RobStride existant\n- ‚úÖ Mentionn√©e par K-Scale comme extension envisag√©e\n- ‚úÖ Surpoids mod√©r√© (+810g sur une position basse)\n- ‚úÖ Porte le D-Bot √† **24 DOF** (objectif initial)\n\n---\n\n## 8. Configurations Finales R√©vis√©es\n\n### üèÜ Option C-R√©vis√©e : \"D-Bot Performance\" (RECOMMAND√âE)\n\nInt√®gre l'upgrade des chevilles (Pitch ‚Üí RS-03) + ajout Roll cheville (RS-02) + coudes am√©lior√©s (RS-06).\n\n| Zone | Moteur | Qt√© | Couple Pic | Poids | Usage |\n| :--- | :---: | :---: | :---: | :---: | :--- |\n| Cou | RS-05 | 2 | 5.5 N.m | 191g | Orientation t√™te |\n| Poignet | RS-00 | 2 | 14 N.m | 310g | Manipulation fine |\n| √âpaule Pitch/Roll | RS-03 | 4 | 60 N.m | 880g | Lever/√©carter bras |\n| √âpaule Yaw | RS-02 | 2 | 17 N.m | 405g | Rotation interne |\n| **Coude** | **RS-06** | **2** | **36 N.m** | **621g** | **Flexion am√©lior√©e** |\n| Hanche Pitch | RS-04 | 2 | 120 N.m | 1420g | Flexion jambe |\n| Hanche Roll/Yaw | RS-03 | 4 | 60 N.m | 880g | √âquilibre/rotation |\n| Genou | RS-04 | 2 | 120 N.m | 1420g | Flexion genou |\n| **Cheville Pitch** | **RS-03** | **2** | **60 N.m** | **880g** | **Propulsion (upgrade)** |\n| **Cheville Roll** | **RS-02** | **2** | **17 N.m** | **405g** | **Stabilit√© lat√©rale (NOUVEAU)** |\n\n#### Bilan Option C-R√©vis√©e\n\n| Impact | D√©tail |\n| :--- | :--- |\n| **Total moteurs** | **24 moteurs** (objectif D-Bot atteint ‚úÖ) |\n| **Poids moteurs** | ~18.3 kg |\n| **Poids robot total** | ~38.2 kg |\n| **Surpoids vs K-Bot** | +2.19 kg (chevilles upgrade + Roll + coudes) |\n| **Surco√ªt vs K-Bot** | +$640 total |\n| **DOF total** | **24 DOF** |\n| **Marche** | ‚úÖ Stable, propuls√©e, avec adaptation lat√©rale |\n| **Marche rapide** | ‚úÖ 2-3 km/h r√©alisable |\n| **Terrain irr√©gulier** | ‚úÖ Adaptation active du pied |\n| **Portage bras pli√©** | ‚úÖ ~10 kg |\n\n### Option D-R√©vis√©e : \"D-Bot Maximal\"\n\nAjoute les RS-04 aux √©paules en plus de la config C-R√©vis√©e :\n\n| Zone | Moteur | Qt√© | Couple Pic | Changement vs K-Bot |\n| :--- | :---: | :---: | :---: | :--- |\n| √âpaule Pitch/Roll | **RS-04** | 4 | **120 N.m** | Upgrade RS-03‚ÜíRS-04 |\n| Coude | **RS-06** | 2 | **36 N.m** | Upgrade RS-02‚ÜíRS-06 |\n| Cheville Pitch | **RS-03** | 2 | **60 N.m** | Upgrade RS-02‚ÜíRS-03 |\n| Cheville Roll | **RS-02** | 2 | **17 N.m** | **NOUVEAU** |\n| Reste | Inchang√© | - | - | - |\n\n| Impact | D√©tail |\n| :--- | :--- |\n| **Total moteurs** | **24 moteurs** |\n| **Poids robot total** | ~41.7 kg |\n| **Surco√ªt vs K-Bot** | +$760 total |\n| **Portage bras tendu** | **5 kg continu** |\n| **Portage bras pli√©** | **15+ kg th√©orique** |\n\n---\n\n## 9. Comparatif des Configurations\n\n| Crit√®re | K-Bot Standard | D-Bot Perf (C-R√©v.) | D-Bot Max (D-R√©v.) |\n| :--- | :---: | :---: | :---: |\n| **DOF** | 20 | **24** | **24** |\n| **Moteurs** | 20 | **24** | **24** |\n| **Poids robot** | 34 kg | 38.2 kg | 41.7 kg |\n| **Surco√ªt** | Base | +$640 | +$760 |\n| **Marche lente** | ‚ö†Ô∏è Shuffle | ‚úÖ Stable | ‚úÖ Stable |\n| **Marche rapide** | ‚ùå Impossible | ‚úÖ 2-3 km/h | ‚úÖ 2-3 km/h |\n| **Terrain irr√©gulier** | ‚ùå Impossible | ‚úÖ Roll actif | ‚úÖ Roll actif |\n| **Stabilit√© lat√©rale** | ‚ùå Hanches seules | ‚úÖ Cheville Roll | ‚úÖ Cheville Roll |\n| **Portage bras tendu** | 2 kg | 3 kg | **5 kg** |\n| **Portage bras pli√©** | ~5 kg | **10 kg** | **15+ kg** |\n| **T√™te articul√©e** | ‚ùå | ‚úÖ Pan/Tilt | ‚úÖ Pan/Tilt |\n\n> [!IMPORTANT]\n> **L'Option D-R√©vis√©e est d√©sormais recommand√©e** si le portage est un objectif. Le Roll cheville compense le CdG plus haut, et la diff√©rence D vs C n'est que de +$120 / +1.35 kg pour un gain de portage majeur (5 kg bras tendu vs 3 kg). Les deux options n√©cessitent un re-tuning algorithmes identique en complexit√©. **L'Option C reste pertinente uniquement si la priorit√© absolue est l'autonomie batterie.**\n\n---\n---\n\n## 10. Am√©liorations Suppl√©mentaires de la Stabilit√©\n\n> *Id√©es compl√©mentaires pour optimiser l'√©quilibre du D-Bot, applicables √† l'Option C comme D.*\n\n### 10.1 Optimisation du Design des Pieds\n\nLe design du pied est un facteur **majeur** de stabilit√©, souvent sous-estim√©.\n\n| Am√©lioration | Principe | Impact | Difficult√© | Co√ªt |\n| :--- | :--- | :--- | :---: | :---: |\n| **Pieds plus grands** | Augmenter la surface d'appui (largeur +2 cm) | ‚úÖ Base de support √©largie, plus de marge CoP | Faible | ~$0 (impression 3D) |\n| **Semelle courbe (rocker)** | Courbure avant/arri√®re pour rouler naturellement | ‚úÖ Transition de pas plus fluide, moins de couple cheville | Moyen | ~$10 |\n| **Orteils passifs** | Joint √©lastique √† l'avant du pied (~15¬∞ flex) | ‚úÖ Phase de pouss√©e am√©lior√©e (toe-off) | Moyen | ~$5-15 |\n| **Semelle antid√©rapante** | Caoutchouc souple type Shore 40A coll√© sous le pied | ‚úÖ Meilleure adh√©rence, moins de glissement | Faible | ~$5 |\n\n> [!TIP]\n> **Les pieds plus grands sont le gain de stabilit√© le plus simple et gratuit.** Un pied 2 cm plus large de chaque c√¥t√© augmente la base de support de ~30%, ce qui donne une marge consid√©rable au contr√¥leur d'√©quilibre.\n\n### 10.2 Placement Strat√©gique de la Batterie\n\nLa batterie (typiquement 1.5-3 kg) est la **masse la plus facile √† repositionner** sans impact fonctionnel.\n\n| Position | Impact CdG | Avantage | Inconv√©nient |\n| :--- | :--- | :--- | :--- |\n| **Torse haut** (actuel typique) | CdG haut | Facile d'acc√®s, √©change rapide | ‚ùå √âl√®ve le CdG |\n| **Torse bas / bassin** | CdG **bas** ‚úÖ | Stabilit√© am√©lior√©e | Acc√®s plus difficile |\n| **Dos bas (sac √† dos)** | CdG moyen-bas | Bon compromis acc√®s/stabilit√© | L√©g√®re protub√©rance |\n| **R√©partie (2 batteries)** | CdG sym√©trique ‚úÖ | √âquilibre gauche/droite + redondance | Plus de c√¢blage |\n\n**Recommandation** : Placer la batterie le **plus bas possible** dans le torse, id√©alement au niveau du bassin. Cela abaisse le CdG de 5-10 cm et am√©liore la stabilit√© **gratuitement** (m√™me batterie, m√™me poids).\n\n### 10.3 IMU et Capteurs de Force\n\nL'√©quilibre d'un robot bip√®de d√©pend autant des **capteurs** que des actionneurs.\n\n| Capteur | R√¥le | Priorit√© | Co√ªt |\n| :--- | :--- | :---: | :---: |\n| **IMU haute fr√©quence** (‚â•200 Hz) | Mesure d'angle et de vitesse angulaire du torse | üî¥ **CRITIQUE** | ~$20-50 |\n| **Capteurs de force plantaires** | Mesure du Centre de Pression (CoP) sous chaque pied | üü° **IMPORTANT** | ~$30-80/pied |\n| **Encodeurs moteurs** (d√©j√† inclus) | Position et vitesse articulaire | ‚úÖ Int√©gr√© RobStride | $0 |\n\nL'IMU est **indispensable** ‚Äî sans elle, le robot est aveugle √† son inclinaison. Les capteurs plantaires sont un **plus significatif** qui permettent de savoir directement o√π se trouve le CoP au lieu de l'estimer par le mod√®le dynamique.\n\n### 10.4 √âl√©ments √âlastiques en S√©rie (SEA)\n\nUne approche m√©canique pour am√©liorer la compliance et la s√©curit√© des interactions :\n\n| Concept | Principe | Avantage | Inconv√©nient |\n| :--- | :--- | :--- | :--- |\n| **SEA cheville** | Ressort entre moteur et articulation | Absorption des chocs au sol, protection du moteur | R√©duit la bande passante du contr√¥le |\n| **SEA genou** | Idem au genou | R√©cup√©ration d'√©nergie en phase de balancement | Complexit√© m√©canique |\n\n**Verdict** : Int√©ressant pour une V2, mais ajoute une complexit√© m√©canique significative. Les QDD RobStride ont d√©j√† une certaine backdrivabilit√© gr√¢ce √† leur faible ratio de r√©duction (9:1 √† 10:1), offrant une compliance naturelle.\n\n### 10.5 DOF de Taille/Torse (Waist) ‚Äî Optionnel V2\n\nBeaucoup de robots humano√Ødes avanc√©s (Unitree H2, ATLAS) ont un **DOF de rotation du torse** :\n\n| DOF Taille | Moteur Sugg√©r√© | Avantage | Quand ? |\n| :--- | :---: | :--- | :---: |\n| **Yaw** (rotation) | RS-03 | Dissocier mouvement bras/jambes, virages naturels | V2 |\n| **Pitch** (inclinaison) | RS-03 | Se pencher en avant sans bouger les hanches | V2+ |\n| **Roll** (lat√©ral) | RS-03 | Compensation de charges lat√©rales | V2+ |\n\n**Verdict** : Non prioritaire pour la V1. Le K-Bot standard n'en a pas et parvient √† marcher. Int√©ressant pour une V2 si la marche rapide et le portage asym√©trique deviennent des objectifs.\n\n### 10.6 Synth√®se des Am√©liorations de Stabilit√©\n\n| Priorit√© | Am√©lioration | Co√ªt | Difficult√© | Impact |\n| :---: | :--- | :---: | :---: | :--- |\n| üî¥ **1** | IMU haute fr√©quence | ~$30 | Faible | Indispensable pour tout contr√¥le d'√©quilibre |\n| üî¥ **2** | Pieds plus grands (+2 cm) | ~$0 | Faible | +30% de base de support |\n| üü† **3** | Batterie en position basse | ~$0 | Faible | CdG abaiss√© de 5-10 cm |\n| üü° **4** | Semelle antid√©rapante | ~$5 | Faible | Meilleure adh√©rence au sol |\n| üü° **5** | Capteurs de force plantaires | ~$100 | Moyen | Mesure directe du CoP |\n| üü¢ **6** | Semelle courbe (rocker) | ~$10 | Moyen | Transition de pas naturelle |\n| üü¢ **7** | Orteils passifs | ~$15 | Moyen | Meilleur toe-off |\n| üîµ **8** | SEA (√©lasticit√© s√©rie) | ~$50 | √âlev√© | Absorption de chocs, V2 |\n| üîµ **9** | DOF Taille Yaw | ~$250 | √âlev√© | Virages naturels, V2 |\n\n> [!TIP]\n> **Les 4 premi√®res am√©liorations co√ªtent moins de $35 au total** et sont toutes r√©alisables imm√©diatement avec une simple impression 3D (pieds), un composant ($30 IMU), et un repositionnement de batterie ($0). Elles auront collectivement un impact **consid√©rable** sur la stabilit√©.\n", "Perception: 07_Vision_IA": "# 07 - Vision et Intelligence Artificielle\n\n## 1. Capteur Principal : Luxonis OAK-D Pro (FF)\nLe choix s'est port√© sur la version **Fixed Focus (FF)** pour garantir la stabilit√© de l'IA malgr√© les vibrations m√©caniques des moteurs RobStride.\n\n### Int√©gration M√©canique\nPour un encastrement parfait dans le visage du robot :\n- **Dimensions du per√ßage** : **98 x 30 mm** (pr√©voir +0.5 mm de tol√©rance).\n- **Fixation** : 2x vis M3, entraxe de **75 mm**, centr√©es.\n- **Passage C√¢ble** : Encoche de **18 mm** en bas pour le connecteur USB-C coud√©.\n- **Orientation** : Inclinaison de **-10¬∞ √† -15¬∞** vers le sol recommand√©e pour d√©tecter les obstacles proches.\n\n### Atouts Techniques (Audit)\n- **St√©r√©o Active** : Contrairement √† la version Lite, la Pro dispose d'un projecteur IR permettant de voir la profondeur m√™me sur des surfaces sans texture (murs blancs unis).\n- **IMU Int√©gr√©e (BNO085/BMI270)** : Utilis√©e **uniquement pour la stabilisation du regard** et le V-SLAM. ‚ö†Ô∏è **Ne doit PAS servir pour l'√©quilibre du corps** car l'OAK-D est dans la t√™te qui bouge ind√©pendamment du torse (2 DOF cou).\n- **R√¥le dans la strat√©gie IMU** : Voir [Strat√©gie IMU](./08_Audio_Perception.md) pour la r√©partition des r√¥les (IMU t√™te vs IMU torse vs IMU LiDAR).\n\n## 2. LiDAR : Unitree L2\n\n### Position : Haut du Torse (avant le cou)\n- **Montage** : Fix√© sur le haut du torse, devant la base du cou, **inclin√© de 10-20¬∞ vers l'avant**.\n- **Orientation** : L√©g√®rement inclin√© vers le sol pour maximiser la d√©tection d'obstacles proches et le SLAM au sol.\n- **Justification du placement** :\n    - ‚úÖ **Pas de c√¢ble √† passer dans le cou** (contrairement au placement sur la t√™te)\n    - ‚úÖ **Position stable** : le torse bouge moins que la t√™te (pas de vibrations Pan/Tilt)\n    - ‚úÖ **FOV 360¬∞√ó90¬∞** d√©gag√© (les bras n'occultent que partiellement en position lev√©e)\n    - ‚ö†Ô∏è **Occlusion partielle** par les bras lors de manipulation frontale ‚Äî compens√©e par l'OAK-D Pro (vision st√©r√©o)\n- **IMU int√©gr√©e** : 3 axes acc√©l√©rom√®tre + 3 axes gyroscope, 1 kHz sampling. Utilis√©e pour la **fusion odom√©trique LiDAR-inertielle** (LIO-SLAM).\n- **Param√®tres** : 128 000 pts/s bruts (64 000 effectifs), port√©e 30m, zone aveugle 0.05m.\n\n## 3. Stack Logicielle (NVIDIA Isaac)\n- **Isaac ROS** : Utilise les moteurs de deep learning de la Jetson pour traiter le flux OAK-D en temps r√©el.\n- **Isaac Gym** : Utilis√© pour l'apprentissage par renforcement de la marche (Deep RL), en important l'URDF mis √† jour avec la masse de l'OAK-D (91g).\n", "Perception: 08_Audio_Perception": "# 08 - Audio et Perception Sensorielle\n\n## 1. Syst√®me Audio Sony Spresense\nL'architecture audio est con√ßue pour l'interaction sociale et la localisation spatiale des sons.\n\n### Configuration Microphones (Audit)\n- **Standard (8 micros)** : Utilisation de microphones **MEMS num√©riques (PDM)**.\n- **Placement strat√©gique** : \n    - 2x Oreilles\n    - 1x Torse (Face)\n    - 1x Nuque (Dos)\n    - + 4x Additionnels pour le beamforming 3D.\n- **C√¢blage** : Utiliser imp√©rativement des **c√¢bles blind√©s** pour √©viter que les interf√©rences des antennes (LTE/Wifi) ou des moteurs ne cr√©ent de \"buzz\" audio.\n\n### Isolation Acoustique\n- **Filtrage M√©canique** : Les microphones doivent √™tre mont√©s sur des supports en **TPU souple** pour isoler les capteurs des vibrations haute fr√©quence des moteurs RobStride.\n- **Synchronisation** : La Spresense garantit une capture synchronis√©e √† **192 kHz**, indispensable pour le calcul du TDOA (Time Difference of Arrival).\n\n## 2. Strat√©gie IMU (Fusion Multi-Capteurs)\n\nLe D-Bot exploite **3 IMUs** positionn√©es strat√©giquement, chacune avec un r√¥le clairement d√©fini :\n\n### Matrice des R√¥les IMU\n\n| IMU | Capteur | Position | Fr√©quence | R√¥le Principal | R√¥le Secondaire |\n| :--- | :--- | :--- | :---: | :--- | :--- |\n| **IMU Torse** | **BMI270** (Add-on Spresense) | Torse (centre de masse) | **416 Hz** | üî¥ **√âquilibre bip√®de** | D√©tection de chute (Watchdog) |\n| **IMU T√™te** | BNO085/BMI270 (OAK-D Pro) | Front (t√™te) | 100 Hz | **Stabilisation regard** | V-SLAM visuel |\n| **IMU LiDAR** | IMU int√©gr√©e (Unitree L2) | Haut du torse | **1000 Hz** | **Odom√©trie LiDAR** (LIO-SLAM) | Fusion avec V-SLAM |\n\n### Architecture de Fusion\n\n```\nIMU Torse (BMI270, 416 Hz)\n  ‚Üí Spresense (Temps R√©el)\n    ‚Üí Contr√¥le d'√©quilibre (hanche/cheville Roll)\n    ‚Üí D√©tection chute si Jetson hors ligne\n    ‚Üí Publie sur ROS2 : /imu/balance\n\nIMU T√™te (OAK-D Pro, 100 Hz)\n  ‚Üí Jetson (DepthAI / Isaac ROS)\n    ‚Üí Stabilisation du regard (compensation cou Pan/Tilt)\n    ‚Üí Odom√©trie visuelle (V-SLAM)\n    ‚Üí Publie sur ROS2 : /imu/head\n\nIMU LiDAR (Unitree L2, 1000 Hz)\n  ‚Üí Jetson (ROS2 driver L2)\n    ‚Üí Fusion LiDAR-Inertielle (LIO-SLAM)\n    ‚Üí Localisation et cartographie\n    ‚Üí Publie sur ROS2 : /imu/lidar\n```\n\n### ‚ö†Ô∏è Erreur Fr√©quente √† √âviter\n\nL'IMU de l'OAK-D (dans la t√™te) **ne doit PAS √™tre utilis√©e pour l'√©quilibre du corps**. La t√™te bouge ind√©pendamment du torse via les 2 DOF du cou (Pan RS-05 + Tilt RS-05). Son IMU mesure l'orientation de la **t√™te**, pas du **corps**.\n\n> **R√®gle** : L'IMU la plus proche du centre de masse = IMU d'√©quilibre. C'est le **BMI270 dans le torse** (via Spresense).\n\n### Note : Migration depuis SensiEDGE CommonSense\n\nLa carte **SensiEDGE CommonSense** (IMU LSM6DSOX + capteurs environnementaux) √©tait initialement pr√©vue mais **n'est pas disponible au grand public** (r√©serv√©e aux clients professionnels).\n\n**Remplacement** : **BMI270 Add-on Board** (Switch Science / Bosch) ‚Äî compatible Spresense, 6 axes (acc√©l√©rom√®tre + gyroscope), I2C/SPI, biblioth√®que Arduino disponible.\n\n> [!NOTE]\n> **Alternative haute pr√©cision** : Sony a sorti en f√©vrier 2025 le **Spresense Multi-IMU Add-on Board** embarquant 16 MEMS IMUs fusionn√©es, atteignant une pr√©cision comparable aux gyroscopes √† fibre optique (FOG). Cette carte est recommand√©e si une pr√©cision extr√™me est requise (marche dynamique sur terrain complexe).\n\n### Perte des Capteurs Environnementaux SensiEDGE\n\nLa SensiEDGE apportait aussi : temp√©rature (HTS221), pression (LPS22HH), qualit√© d'air (SGP40), magn√©tom√®tre (LIS2MDL). Si ces capteurs restent souhait√©s pour la surveillance interne du torse :\n- **Thermistance** (~$1) : Coll√©e sur les moteurs RS-04 les plus puissants ‚Üí ADC Spresense\n- **Magn√©tom√®tre** : Non critique (pas de cap magn√©tique n√©cessaire pour un robot d'int√©rieur)\n- **Qualit√© d'air** : Non critique pour un prototype V1\n", "Fabrication: 09_Guide_Avance_Impression": "# Guide Avanc√© : Impression 3D Technique (PETG-CF & PA12-CF)\n\nCe guide compile les proc√©dures critiques pour r√©ussir vos impressions sur **Qidi Plus 4**, issues des retours techniques de F√©vrier 2026.\n\n## 1. Gestion de l'Humidit√© (Facteur #1 d'√âchec)\nLe **PA12-CF** (Nylon) est extr√™mement hygroscopique. Une exposition de 15 minutes √† l'air libre suffit pour ruiner une impression.\n\n### Protocole de S√©chage & Transfert\n1.  **S√©chage Initial** :\n    *   **PETG-CF** : 65¬∞C pendant 6-8h. (La Qidi Box suffit).\n    *   **PA12-CF** : 80¬∞C - 90¬∞C pendant 12h. (Four d√©di√© recommand√© si la Qidi Box plafonne).\n2.  **Le Transfert \"Flash\"** (PA12-CF uniquement) :\n    *   Ne laissez jamais la bobine refroidir dans le four (elle r√©absorbe l'humidit√©).\n    *   Transf√©rez-la dans la Qidi Box en **moins de 2 minutes**.\n3.  **Maintien en Qidi Box** :\n    *   R√©glez la Box sur **60¬∞C - 70¬∞C** pendant toute l'impression.\n    *   **R√®gle absolue** : Le chemin de filament Box -> Extrudeur doit √™tre 100% sous tube PTFE. Le moindre centim√®tre √† l'air libre est un point de contamination.\n\n## 2. Calibration de Fiabilit√© (OrcaSlicer)\nPour du filament g√©n√©rique sur la Qidi Plus 4, la calibration manuelle est indispensable pour √©viter les \"blobs\" et les clics d'extrudeur.\n\n### Calibration du D√©bit (Flow Rate)\n*   **Menu** : *Calibration > Flow Rate > Pass 1*.\n*   **Objectif** : Rep√©rez la surface la plus lisse sans bourrelets.\n*   **Calcul** : $Flow_{New} = Flow_{Current} \\times (100 + Modificateur) / 100$.\n\n### Limite de D√©bit Volum√©trique (Le verrou de s√©curit√©)\nC'est le r√©glage le plus critique pour la Plus 4.\n*   **PLA G√©n√©rique** : Limitez √† **15 mm¬≥/s**.\n*   **PETG G√©n√©rique** : Limitez √† **8 mm¬≥/s** pour √©viter l'accumulation sur la buse.\n*   **Action** : R√©duisez la valeur par d√©faut de 20% pour garantir une fiabilit√© totale sur des impressions de longue dur√©e.\n\n### Pressure Advance (Coins nets)\n*   **Valeurs typiques (Direct Drive)** : \n    *   PLA : **0.02 - 0.04**\n    *   PETG : **0.04 - 0.06**\n\n---\n\n## 3. Profils JSON Optimis√©s (R√©glages \"Safe\")\nPlut√¥t que d'importer des fichiers JSON instables, modifiez ces valeurs dans vos profils @Qidi Plus4 :\n\n| Param√®tre | PLA Fiable | PETG Anti-√âchec |\n| :--- | :--- | :--- |\n| **Max Volumetric Speed** | 15 mm¬≥/s | 8 mm¬≥/s |\n| **Vitesse paroi ext.** | 60 mm/s | 60 mm/s |\n| **Z-hop** | Standard | **Spiral Z-hop** (√©vite les chocs) |\n| **Ventilateur Aux.** | 20% max | **OFF** (√©vite le warping) |\n\n---\n\n## 4. Post-Traitement : Recuit (Annealing) & Macros G-Code\nLe recuit stabilise les mol√©cules et augmente la rigidit√© (+30%). Profitez de la chambre chauff√©e de la Qidi Plus 4.\n\n### Protocoles et Consignes\n| Mat√©riau | Plateau / Chambre | Dur√©e | Conseils |\n| :--- | :--- | :--- | :--- |\n| **eSUN PLA+** | 70¬∞C / 60¬∞C | 1h | Laisser les supports (Tree) pour √©viter l'affaissement. |\n| **PETG-CF** | 85¬∞C / 60¬∞C | 3h | Stable dimensionnellement. |\n| **PA12-CF** | 100¬∞C / 65¬∞C | 8h | **Refroidissement lent** (2h porte ferm√©e) obligatoire. |\n\n> [!CAUTION]\n> **Inserts Ruthex** : Ne faites JAMAIS de recuit sur des pi√®ces √©quip√©es d'inserts. Le plastique ramollirait et les inserts se d√©centreraient. **Recuit d'abord, inserts apr√®s.**\n\n### Macros G-Code (Recuit Automatique de Fin d'Impression)\nPour une automatisation totale, ins√©rez ces scripts dans votre \"End G-code\" dans OrcaSlicer. La pi√®ce reste ainsi fix√©e au plateau, ce qui r√©duit drastiquement le retrait.\n\n#### 1. eSUN PLA+ (Cristallisation)\n```gcode\n; --- G-code de fin : Recuit Direct PLA+ ---\nM104 S0 ; √âteindre la buse\nM140 S70 ; Plateau √† 70¬∞C (Maintien base)\nM191 S60 ; Chambre √† 60¬∞C\nM117 Cristallisation PLA+ (1h)...\nG4 P3600000 ; Pause de 1 heure\nM140 S0 M191 S0\nM117 Termin√©. Refroidissement porte ferm√©e.\nM84\n```\n\n### Avantages du Recuit \"In-Situ\" (Audit)\nIl est fortement recommand√© de lancer le recuit **imm√©diatement apr√®s l'impression** sans retirer la pi√®ce du plateau :\n- **Absence d'humidit√©** : Le PA12-CF n'a pas le temps d'absorber l'humidit√© ambiante (ce qui ferait bouillir l'eau lors du recuit).\n- **Contrainte m√©canique** : Le plateau agit comme un gabarit de maintien, emp√™chant le retrait (shrinkage) de la base de la pi√®ce.\n- **B√©quille Thermique** : Pour les pi√®ces hautes et fines, laissez les **Tree Supports** (supports arborescents). Ils servent de b√©quille thermique pour √©viter que la pi√®ce ne penche lors de la phase de ramollissement √† 70-80¬∞C.\n\n#### 2. PETG-CF (Finition & Stress-Relief)\n```gcode\n; --- G-code de fin : Recuit Direct PETG-CF ---\nM104 S0 ; √âteindre buse\nM140 S85 ; Plateau √† 85¬∞C (Transition vitreuse)\nM191 S60 ; Chambre √† 60¬∞C\nM117 Recuit PETG-CF (3h)...\nG4 P10800000 ; Pause de 3 heures\nM140 S0 M191 S0\nM117 Finition. Refroidissement lent.\nM84\n```\n\n#### 3. PA12-CF (Performance Maximale)\n```gcode\n; --- G-code de fin : Recuit Direct PA12-CF ---\nM104 S0 ; √âteindre buse\nM140 S100 ; Plateau √† 100¬∞C (Radiateur)\nM191 S65 ; Chambre √† 65¬∞C\nM117 Recuit PA12-CF (8h)...\nG4 P28800000 ; Pause de 8 heures\nM140 S0 M191 S0\nM117 Refroidissement passif (2h)...\nM84\n```\n\n---\n\n## 5. Validation et Calibration Finale\n*   **Test du \"Son\" (PA12-CF)** : Une pi√®ce bien recuite √©met un son clair, presque m√©tallique, lorsqu'on la tapote. Une pi√®ce \"brute\" sonne plastique et mat.\n*   **Retrait PLA+** : Si vous constatez un retrait de 3% apr√®s recuit, appliquez un facteur d'√©chelle (Scale) de **103%** dans OrcaSlicer avant l'impression finale.\n*   **Maintenance Carbon** : Soufflez les poussi√®res de carbone dans l'extrudeur tous les 2kg de filament pour √©viter les glissements de roue dent√©e.\n", "Fabrication: 10_Guide_Buse_Tungstene": "# Guide Technique : Installation & Optimisation Buse Carbure de Tungst√®ne\n\nCe document d√©taille l'installation de la buse haute performance en **Carbure de Tungst√®ne**, recommand√©e pour les filaments charg√©s carbone (PETG-CF, PA12-CF) du projet D-Bot.\n\n## 1. Pourquoi cette Upgrade ?\n*   **R√©sistance Extr√™me** : Inusable face √† l'abrasion du carbone (contrairement au laiton qui se creuse en quelques heures et √† l'acier tremp√© qui s'use lentement).\n*   **Conductivit√© Thermique** : Proche du cuivre. Permet de chauffer aussi vite et stablement que le laiton, contrairement √† l'acier tremp√© qui isole et demande de surchauffer (+10¬∞C).\n*   **Fluidit√©** : R√©duit drastiquement les risques de bouchage (clogs).\n\n## 2. Proc√©dure de Remplacement (Critique)\nLe carbure de tungst√®ne est ultra-dur mais **cassant** aux chocs. De plus, le bloc de chauffe est fragile.\n\n### Mat√©riel Requis\n*   Cl√© plate fournie.\n*   **Pince multiprise** (Indispensable pour le contre-appui).\n*   Gants thermiques.\n\n### √âtape 1 : D√©montage S√©curis√©\n1.  **Chauffe** : Montez la temp√©rature √† **250¬∞C**. (√Ä froid, le plastique colle et vous casserez le heatbreak).\n2.  **Videz l'extrudeur** (Unload).\n3.  **Contre-Appui (R√®gle d'Or)** : Maintenez **fermement** le bloc de chauffe carr√© avec la pince. Il ne doit **jamais** tourner sur lui-m√™me pendant le d√©vissage.\n4.  D√©vissez la buse d'origine.\n\n### √âtape 2 : Montage et Serrage √† Chaud\n1.  **Nettoyage** : V√©rifiez que le filetage est propre.\n2.  **Vissage** : Vissez la buse Tungst√®ne √† la main (avec gant) pour sentir le filetage. Ne forcez pas si √ßa r√©siste.\n3.  **Serrage Final** : Toujours √† **250¬∞C** et avec la pince en contre-appui, serrez fermement (1.5 - 2.0 Nm).\n    *   *Contr√¥le Visuel* : Il doit rester un espace de **0.5mm √† 1mm** entre la t√™te de la buse et le bloc. Si elle touche le bloc, elle ne scelle pas le heatbreak -> Fuite garantie.\n\n## 3. Calibration Machine (Obligatoire)\nLa thermique de la t√™te change radicalement. L'imprimante doit r√©apprendre.\n\n1.  **PID Calibration** : Menu Qidi > Configuration > PID Tuning. (Stabilisation thermique).\n2.  **Auto-Leveling** : La nouvelle buse peut √™tre plus longue de quelques microns. Refaites le niveau.\n3.  **Z-Offset** : V√©rifiez la premi√®re couche. Ajustez si n√©cessaire.\n\n## 4. Param√®tres Slicer (QIDI Print / Orca)\nIl n'y a pas de case \"Tungst√®ne\". Modifiez vos profils existants :\n\n| Param√®tre | Ajustement vs Acier Tremp√© | Pourquoi ? |\n| :--- | :--- | :--- |\n| **Temp√©rature** | **-5¬∞C √† -10¬∞C** | Le tungst√®ne conduit mieux la chaleur. |\n| **Flow Ratio (D√©bit)** | **-1% √† -2%** | √áa glisse mieux ! Surveillez la sur-extrusion. |\n| **Volumetric Speed** | **+2 √† +3 mm¬≥/s** | Permet d'imprimer plus vite sans sous-extrusion. |\n\n**Exemple PA12-CF** : Passez de 300¬∞C √† **290¬∞C**.\n\n## 5.## Maintenance et S√©curit√© √âlectrique (Audit F√©v. 2026)\n\n### Maintenance Rapide\n- **T√™te/Cou** : L'utilisation de borniers **WAGO 221-413 (3 entr√©es)** ou **415 (5 entr√©es)** est recommand√©e pour les liaisons LiDAR et moteurs de cou. Cela permet de remplacer un capteur en 30 secondes sans soudure.\n- **Sauvegarde** : Toujours cr√©er un **clone de la carte SD** Jetson sur un SSD externe (ex: Hynix P310) avant chaque mise √† jour majeure (`sudo dd if=/dev/sdX of=backup.img`).\n\n### S√©curit√© Alimentation Wanptek\nLe mod√®le DPS605U n√©cessite une proc√©dure stricte car il ne poss√®de pas de bouton \"Output ON/OFF\" physique :\n1.  Allumer l'alimentation √† vide.\n2.  V√©rifier la tension (**24.0V** ou **48.0V**).\n3.  Calculer la limite (ex: 1A). Court-circuiter les pinces pour r√©gler le courant si besoin.\n4.  Activer le mode **OCP** (Overcurrent Protection) : l'alimentation coupera d'elle-m√™me en cas d'appel de courant anormal (branchement invers√©).\n5.  Brancher seulement ensuite le moteur RobStride.\n*   **Nettoyage** : Le plastique n'adh√®re pas au tungst√®ne. Un coup de brosse laiton √† chaud suffit.\n*   **Dur√©e de vie** : Virtuellement infinie pour ce projet.\n\n> **Conseil D-Bot** : Installez-la **AVANT** de lancer la production massive des pi√®ces critiques (Hanches RS-04, F√©murs) pour garantir une extrusion constante sur 40h+ d'impression.\n", "Fabrication: 12_Guide_Parties_Metal_CNC": "# Guide Pr√©paration Fichiers CNC\n\nCe guide d√©taille la proc√©dure pour commander les pi√®ces structurelles en aluminium (Alu 6061) aupr√®s de services d'usinage en ligne (JLCPCB, PCBWay, Xometry).\n\n## 1. Sp√©cifications Techniques\n*   **Mat√©riau** : **Aluminium 6061-T6** (Standard a√©rospatial, bon compromis r√©sistance/poids).\n*   **Finition de surface** : **\"As Machined\"** (Brut d'usinage).\n    *   *Conseil* : Ne demandez pas de \"Bead Blasting\" (Microbillage) ou d'Anodisation pour les prototypes (Phase 2). Cela r√©duit le co√ªt de 20% √† 30%.\n*   **Tol√©rances** : Standard **ISO 2768-m** (+/- 0.1mm) suffisant pour le D-Bot.\n\n## 2. Pr√©paration des Fichiers 3D\n*   **Format** : Exportez uniquement en **STEP (.stp / .step)**. Le STL n'est pas accept√© pour l'usinage CNC.\n*   **Nettoyage CAO** :\n    *   Supprimez tous les textes grav√©s, logos ou d√©corations en relief. L'usinage de ces d√©tails minuscules explose le temps machine et le prix.\n    *   V√©rifiez les **rayons internes**. Un outil de fraiseuse est rond. √âvitez les angles internes √† 90¬∞ parfaits, mettez un rayon de 2mm ou 3mm l√† o√π c'est possible.\n\n## 3. Points de Contr√¥le D-Bot\n### Al√©sages (Trous pr√©cis)\n*   **Dowel Pins** : Les trous pour les goupilles de centrage (3mm et 4mm) doivent √™tre pr√©cis (H7 si possible, sinon standard).\n*   **Interfaces Moteurs** : Les surfaces de contact avec les moteurs Robstride doivent √™tre parfaitement planes pour dissiper la chaleur du moteur vers le ch√¢ssis.\n\n## 4. Astuces de Commande\n*   **Regroupement** : Commandez toutes les pi√®ces d'un coup (Bras Droit + Gauche).\n*   **Sym√©trie** : V√©rifiez si vos pi√®ces sont identiques (x2) ou sym√©triques (Miroir). En CNC, une pi√®ce miroir est une r√©f√©rence diff√©rente.\n*   **Taraudage** : Indiquez clairement sur les plans 2D (PDF associ√©s) quels trous doivent √™tre taraud√©s (M3, M4). Sinon, ils seront livr√©s en trous lisses.\n", "S√©curit√©: 11_Guide_SensiEDGE_Watchdog": "# 11 - Guide IMU & Watchdog (S√©curit√© & √âquilibre)\n\nCe guide d√©taille l'int√©gration de l'**IMU torse** (BMI270 Add-on Board) et la mise en place de l'architecture de **S√©curit√© Active** (Watchdog + Power Management) pilot√©e par la Sony Spresense.\n\n> [!WARNING]\n> **Migration SensiEDGE ‚Üí BMI270** : La carte SensiEDGE CommonSense initialement pr√©vue **n'est pas disponible au grand public** (r√©serv√©e aux professionnels). Ce guide a √©t√© mis √† jour pour utiliser le **BMI270 Add-on Board** (Switch Science) comme IMU principale.\n\n## 1. Mat√©riel : IMU Torse\n\n### Option Recommand√©e : BMI270 Add-on Board (Switch Science)\n*   **Connexion** : S'enfiche sur les headers I2C/SPI de la **Spresense Extension Board**.\n*   **Capteur** : **Bosch BMI270** ‚Äî Acc√©l√©rom√®tre + Gyroscope 6 axes.\n*   **Fr√©quence** : Jusqu'√† **416 Hz** (acc√©l√©rom√®tre) / **6.4 kHz** (gyroscope).\n*   **R√¥le primaire** : **IMU d'√©quilibre** du robot ‚Äî contr√¥le du centre de masse en temps r√©el.\n*   **R√¥le secondaire** : D√©tection de chute quand la Jetson est √©teinte (Watchdog).\n*   **Biblioth√®que Arduino** : `Arduino_BMI270_BMM150` ou `BMI270-Sensor-API`.\n\n### Alternative Haute Pr√©cision : Sony Spresense Multi-IMU Add-on Board\n*   **Sortie** : F√©vrier 2025.\n*   **Principe** : 16 MEMS IMUs fusionn√©es pour une pr√©cision comparable aux **gyroscopes √† fibre optique (FOG)**.\n*   **Quand l'utiliser** : Si la marche dynamique sur terrain complexe n√©cessite une pr√©cision angulaire extr√™me.\n*   **Interface** : SPI.\n\n### ~~SensiEDGE CommonSense~~ (Indisponible)\n*   ‚ö†Ô∏è **Non disponible au grand public** ‚Äî r√©serv√©e aux clients professionnels.\n*   Contenait : IMU (LSM6DSOX), Magn√©tom√®tre (LIS2MDL), Temp/Humidit√© (HTS221), Pression (LPS22HH), Qualit√© d'air (SGP40).\n*   Les capteurs environnementaux ne sont **pas critiques** pour le prototype V1. Si n√©cessaire, ajouter des thermistances ($1) sur les moteurs RS-04.\n\n### Montage M√©canique\nL'empilement (Stack) se fait verticalement dans le torse :\n1.  **Base** : Spresense Extension Board (Arduino form factor).\n2.  **Milieu** : Spresense Main Board.\n3.  **Haut** : **BMI270 Add-on Board** (se connecte sur les headers I2C/SPI).\n\n---\n\n## 2. Architecture \"Power Manager\" (Veille & R√©veil)\nLa Spresense est le seul composant \"Always-On\" du robot. Elle contr√¥le l'alimentation de puissance (44V) via un **MOSFET**.\n\n### Sch√©ma de C√¢blage (Protection 12S)\n*   **Entr√©e Batterie** : 12S LiPo (44.4V Nominal / 50.4V Max).\n*   **Pont Diviseur (Surveillance Tension)** :\n    *   Connect√© √† la **Pin A0** de la Spresense.\n    *   **R1** (C√¥t√© Batterie) : **150 kŒ©**\n    *   **R2** (C√¥t√© Masse) : **10 kŒ©**\n    *   *Ratio* : 50V en entr√©e donne ~3.12V en lecture (Compatible 3.3V).\n*   **Commande Puissance (MOSFET)** :\n    *   Connect√© √† la **Pin D13**.\n    *   Composant recommand√© : **Infineon BTS50085** (Smart High-Side Switch) ou Module MOSFET 100V opto-isol√©.\n    *   R√¥le : Coupe physiquement l'alimentation de la Jetson et des Moteurs RobStride.\n*   **Heartbeat (Watchdog)** :\n    *   Connect√© √† la **Pin D12**.\n    *   Signal : La Jetson envoie une impulsion \"Vivant\" toutes les 100ms.\n\n---\n\n## 3. Code Spresense (C++)\nVoici le code complet pour g√©rer la s√©curit√©, la batterie et le r√©veil.\n\n### Gestionnaire d'Alimentation & Watchdog\nCe code surveille la batterie (protection d√©charge profonde) et la Jetson (anti-freeze).\n\n```cpp\n/*\n * D-Bot Power Manager & Watchdog\n * Mat√©riel : Sony Spresense + BMI270 Add-on (IMU √âquilibre)\n */\n\n#include <RTC.h> // Pour la gestion du temps\n\nconst int PIN_MOSFET = 13;    // Commande du Relais/MOSFET Puissance\nconst int PIN_HEARTBEAT = 12; // Entr√©e signal vie Jetson\nconst int PIN_WAKEUP = 11;    // Bouton de Test (ou Trigger Vocal)\nconst int PIN_BATTERY = A0;   // Pont diviseur\n\n// Param√®tres Batterie 12S (S√©curit√©)\nconst float R1 = 150000.0; \nconst float R2 = 10000.0;\nconst float VOLTAGE_THRESHOLD = 37.0; // Seuil critique (3.08V / cellule)\n\n// Param√®tres Watchdog\nunsigned long lastHeartbeat = 0;\nconst unsigned long WATCHDOG_TIMEOUT = 5000; // 5 secondes sans signal = Crash\nbool isRobotAwake = false;\n\n// Lecture s√©curis√©e de la tension batterie\nfloat readBatteryVoltage() {\n  int raw = analogRead(PIN_BATTERY);\n  // Conversion ADC (Ref 3.3V ou 5V selon jumper Extension Board)\n  float vOut = (raw * 5.0) / 1023.0; // Assumes 5V ref on Extension Board ADC\n  float vBat = vOut * ((R1 + R2) / R2);\n  return vBat;\n}\n\nvoid setup() {\n  pinMode(PIN_MOSFET, OUTPUT);\n  pinMode(PIN_HEARTBEAT, INPUT);\n  pinMode(PIN_WAKEUP, INPUT_PULLUP);\n  \n  digitalWrite(PIN_MOSFET, LOW); // S√©curit√© : Tout √©teint au d√©marrage\n  Serial.begin(115200);\n  Serial.println(\"--- D-Bot Security Sentinel Started ---\");\n}\n\nvoid loop() {\n  // 1. Surveillance Batterie (Priorit√© Absolue)\n  float voltage = readBatteryVoltage();\n  if (voltage < VOLTAGE_THRESHOLD && voltage > 5.0) { // >5V pour √©viter faux positif si pas branch√©\n    Serial.print(\"CRITIQUE : Batterie faible (\");\n    Serial.print(voltage);\n    Serial.println(\"V). Arr√™t d'urgence.\");\n    emergencyShutdown();\n    return; // On ne fait rien d'autre\n  }\n\n  // 2. Gestion du R√©veil (Si √©teint)\n  if (!isRobotAwake) {\n    if (digitalRead(PIN_WAKEUP) == LOW) { // Ou d√©tection vocale\n       if (voltage > VOLTAGE_THRESHOLD) {\n          wakeupRobot();\n       } else {\n          Serial.println(\"Refus d'allumage : Batterie trop faible.\");\n       }\n    }\n  }\n\n  // 3. Watchdog (Si allum√©)\n  if (isRobotAwake) {\n    if (digitalRead(PIN_HEARTBEAT) == HIGH) {\n      lastHeartbeat = millis();\n    }\n    \n    if (millis() - lastHeartbeat > WATCHDOG_TIMEOUT) {\n      Serial.println(\"ALERTE : Perte signal Jetson (Freeze). Reboot...\");\n      emergencyShutdown();\n      // Optionnel : Tentative de red√©marrage apr√®s 5s\n    }\n  }\n  \n  delay(100);\n}\n\nvoid wakeupRobot() {\n  Serial.println(\"R√©veil du D-Bot...\");\n  digitalWrite(PIN_MOSFET, HIGH);\n  isRobotAwake = true;\n  lastHeartbeat = millis(); \n  delay(2000); // Laisser le temps √† l'alim de se stabiliser\n}\n\nvoid emergencyShutdown() {\n  digitalWrite(PIN_MOSFET, LOW);\n  isRobotAwake = false;\n  Serial.println(\"Syst√®me mis en s√©curit√©.\");\n}\n```\n\n### Int√©gration des Capteurs SensiEDGE\nPour lire l'IMU BMI270 (remplacement de la SensiEDGE), utilisez :\n- **IMU** : `Arduino_BMI270_BMM150` (Bosch officiel) ou `BMI270-Sensor-API`\n\nSi des capteurs environnementaux sont ajout√©s ult√©rieurement :\n- **Temp√©rature** : Thermistance NTC sur ADC Spresense\n- **Note** : Les biblioth√®ques SensiEDGE (`Arduino_LSM6DSOX`, `Arduino_HTS221`, etc.) ne sont plus n√©cessaires.\n\n*Note : Le BMI270 Add-on utilise le bus I2C ou SPI standard. Aucune √©lectronique additionnelle n'est requise.*\n", "S√©curit√©: 13_Securite_Electrique": "# S√©curit√© et Proc√©dures de Mise en Marche\n\n> [!DANGER]\n> **RISQUE √âLECTRIQUE ET M√âCANIQUE MAJEUR**\n> Les moteurs Robstride sont puissants et peuvent causer des blessures physiques ou br√ªler l'√©lectronique s'ils sont mal utilis√©s.\n\n## 1. Configuration de l'Alimentation (Laboratoire)\nPour les premiers tests (Banc d'essai ou Bras seul), utilisez une alimentation de labo r√©glable (ex: Wanptek).\n\n### Param√®tres \"Safe Start\"\n1.  **Tension (Voltage)** : **24.00V** (V√©rifier au multim√®tre √† vide avant de brancher quoi que ce soit).\n2.  **Courant (Current Limit)** : **1.000A** (1 Amp√®re).\n    *   *M√©thode* : Faites un court-circuit des sondes (si l'alim le supporte) ou r√©glez via le menu OCP.\n3.  **Protection** : Activez le mode **OCP** (Over Current Protection). Si le moteur tire trop (blocage), l'alim coupe tout.\n\n## 2. S√©quence d'Allumage (Power-Up Sequence)\nRespectez **toujours** cet ordre pour √©viter de griller la carte de contr√¥le du moteur ou l'USB2CAN.\n\n1.  **ALLUMER** l'alimentation (C√¢ble moteur D√âBRANCH√â).\n2.  **V√âRIFIER** que la tension affiche bien 24V.\n3.  **BRANCHER** le connecteur XT60 du moteur (ou du robot).\n4.  **CONNECTER** l'USB (Data) √† l'ordinateur/Jetson.\n5.  **LOGICIEL** : Lancer le script de contr√¥le ou le \"Enable\" moteur.\n\n> **INTERDIT** : Ne jamais modifier la tension (Voltage d'alim) alors que le moteur est branch√© et activ√© (Enabled). Les fluctuations peuvent d√©truire les MOSFETs internes.\n\n## 3. Arr√™t d'Urgence (E-Stop)\n*   En phase de d√©veloppement (Phase 2), ayez toujours la main sur l'interrupteur de l'alimentation.\n*   Si le robot fait un mouvement violent ou un bruit strident (\"singing\"), **COUPEZ L'ALIM DIRECTEMENT**. Ne cherchez pas √† l'arr√™ter par logiciel.\n\n## 4. S√©curit√© M√©canique\n*   **Zone d'√©volution** : Lors des tests de bras, assurez-vous que le rayon d'action est vide.\n*   **Pincement** : Ne pas mettre les doigts dans les articulations (Coude/Poignet) lorsque les moteurs sont sous tension, m√™me √† l'arr√™t (Holding Torque actif).\n"};
        const navList = document.getElementById('nav-list');
        const view = document.getElementById('view');
        function renderDoc(key) {
            view.innerHTML = marked.parse(docs[key]);
            mermaid.run({ nodes: view.querySelectorAll('.language-mermaid') });
            window.scrollTo(0, 0);
            document.querySelectorAll('.nav-item').forEach(el => { el.classList.toggle('active', el.dataset.key === key); });
            history.replaceState(null, null, '#' + encodeURIComponent(key));
        }
        let currentGroup = "";
        Object.keys(docs).forEach(label => {
            const [group, name] = label.split(': ');
            if (group !== currentGroup) {
                const groupEl = document.createElement('div');
                groupEl.className = 'nav-group';
                groupEl.innerText = group;
                navList.appendChild(groupEl);
                currentGroup = group;
            }
            const item = document.createElement('a');
            item.className = 'nav-item';
            item.innerText = name.replace(/_/g, ' ');
            item.dataset.key = label;
            item.onclick = () => renderDoc(label);
            navList.appendChild(item);
        });
        const hash = decodeURIComponent(window.location.hash.substring(1));
        if (hash && docs[hash]) { renderDoc(hash); } else { renderDoc("Fondations: 00_Index"); }
        view.addEventListener('click', (e) => {
            const link = e.target.closest('a');
            if (!link) return;
            const href = link.getAttribute('href');
            if (!href) return;
            if (href.startsWith('./') || href.endsWith('.md')) {
                e.preventDefault();
                const filename = href.replace('./', '').replace('.md', '');
                const match = Object.keys(docs).find(k => k.includes(filename));
                if (match) { renderDoc(match); }
            }
        });
    </script>
</body>
</html>